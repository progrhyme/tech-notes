<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>progrhyme's Tech Notes – Memorandum</title><link>https://progrhy.me/tech-notes/a/memo/</link><description>Recent content in Memorandum on progrhyme's Tech Notes</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sat, 25 Apr 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://progrhy.me/tech-notes/a/memo/index.xml" rel="self" type="application/rss+xml"/><item><title>A: 2022-06-24</title><link>https://progrhy.me/tech-notes/a/memo/20220624/</link><pubDate>Fri, 24 Jun 2022 11:47:45 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20220624/</guid><description>
&lt;h2 id="624">6/24&lt;/h2>
&lt;h3 id="ubuntuでapt-update時にgpgエラー">Ubuntuでapt update時にGPGエラー&lt;/h3>
&lt;p>GCPのパッケージでエラー。&lt;/p>
&lt;pre tabindex="0">&lt;code>$ sudo apt update
:
Err:6 http://packages.cloud.google.com/apt google-cloud-monitoring-bionic-all InRelease
The following signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY FEEA9169307EA071 NO_PUBKEY 8B57C5C2836F4BEB
Err:4 https://packages.cloud.google.com/apt kubernetes-xenial InRelease
The following signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY FEEA9169307EA071 NO_PUBKEY 8B57C5C2836F4BEB
Fetched 252 kB in 1s (209 kB/s)
Reading package lists... Done
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: http://packages.cloud.google.com/apt google-cloud-monitoring-bionic-all InRelease: The following signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY FEEA9169307EA071 NO_PUBKEY 8B57C5C283 * Super-Reading package lists... Done
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: http://packages.cloud.google.com/apt google-cloud-monitoring-bionic-all InRelease: The following signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY FEEA9169307EA071 NO_PUBKEY 8B57C5C2836F4BEB
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://packages.cloud.google.com/apt kubernetes-xenial InRelease: The following signatures couldn&amp;#39;t be
verified because the public key is not available: NO_PUBKEY FEEA9169307EA071 NO_PUBKEY 8B57C5C2836F4BEB
W: Failed to fetch http://packages.cloud.google.com/apt/dists/google-cloud-monitoring-bionic-all/InRelease The following
signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY FEEA9169307EA071 NO_PUBKEY 8B57C5C2836F4BEB
W: Failed to fetch https://apt.kubernetes.io/dists/kubernetes-xenial/InRelease The following signatures couldn&amp;#39;t be verified because the public key is not available: NO_PUBKEY FEEA9169307EA071 NO_PUBKEY 8B57C5C2836F4BEB
W: Some index files failed to download. They have been ignored, or old ones used instead.
&lt;/code>&lt;/pre>&lt;p>&lt;a href="https://qiita.com/abetomo/items/682c51092b659b197e63">Google Cloud PackagesのGPGでエラー。2018/04/02 - Qiita&lt;/a> を参考にGPGキーを更新（追加）。&lt;/p>
&lt;pre tabindex="0">&lt;code>$ curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
% Total % Received % Xferd Average Speed Time Time Time Current
Dload Upload Total Spent Left Speed
100 2537 100 2537 0 0 13423 0 --:--:-- --:--:-- --:--:-- 13423
OK
&lt;/code>&lt;/pre>&lt;p>これで上手く行った。&lt;/p>
&lt;pre tabindex="0">&lt;code>$ apt-key list
/etc/apt/trusted.gpg
--------------------
pub rsa2048 2018-04-01 [SCE] [expired: 2021-03-31]
54A6 47F9 048D 5688 D7DA 2ABE 6A03 0B21 BA07 F4FB
uid [ expired] Google Cloud Packages Automatic Signing Key &amp;lt;gc-team@google.com&amp;gt;
pub rsa2048 2020-12-04 [SC] [expires: 2022-12-04]
59FE 0256 8272 69DC 8157 8F92 8B57 C5C2 836F 4BEB
uid [ unknown] gLinux Rapture Automatic Signing Key (//depot/google3/production/borg/cloud-rapture/keys/cloud-rapture-pubkeys/cloud-rapture-signing-key-2020-12-03-16_08_05.pub) &amp;lt;glinux-team@google.com&amp;gt;
sub rsa2048 2020-12-04 [E]
pub rsa2048 2021-03-01 [SC] [expires: 2023-03-02]
7F92 E05B 3109 3BEF 5A3C 2D38 FEEA 9169 307E A071
uid [ unknown] Rapture Automatic Signing Key (cloud-rapture-signing-key-2021-03-01-08_01_09.pub)
sub rsa2048 2021-03-01 [E]
:
&lt;/code>&lt;/pre>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/HS310164/items/15ebb375726ff4db4eb2">apt updateでGPG エラーが出たら - Qiita&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2021-06-22</title><link>https://progrhy.me/tech-notes/a/memo/20210622/</link><pubDate>Tue, 22 Jun 2021 10:56:27 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20210622/</guid><description>
&lt;h2 id="622">6/22&lt;/h2>
&lt;h3 id="cloud-runをgaeみたいに複数バージョンのアプリの実行環境として使えるか">Cloud RunをGAEみたいに複数バージョンのアプリの実行環境として使えるか？&lt;/h3>
&lt;p>できそう。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://cloud.google.com/run/docs/managing/revisions?hl=ja">リビジョンの管理 | Cloud Run のドキュメント | Google Cloud&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://chidakiyo.hatenablog.com/entry/run-traffic-latest">Cloud Run で最新のリリースバージョンにトラフィックを流す - 寝ても覚めてもこんぴうた&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>VPCとつなぐには、サーバレスVPCアクセスを使う:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://cloud.google.com/run/docs/configuring/connecting-vpc">https://cloud.google.com/run/docs/configuring/connecting-vpc&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2021-06-08</title><link>https://progrhy.me/tech-notes/a/memo/20210608/</link><pubDate>Tue, 08 Jun 2021 13:12:03 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20210608/</guid><description>
&lt;h2 id="68">6/8&lt;/h2>
&lt;h3 id="sshコマンドによるsocksサーバの実行">SSHコマンドによるSOCKSサーバの実行&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>ssh -D &lt;span style="color:#000">$PORT&lt;/span> &lt;span style="color:#000">$HOST&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># -f バックグラウンドで実行&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># -N リモートシェルを起動しない&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ssh -D &lt;span style="color:#000">$PORT&lt;/span> &lt;span style="color:#000">$HOST&lt;/span> -N -f
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/testnin2/items/64c570859b297dfac8b1">SSHを使ってSOCKS経由でWebにアクセスする方法 - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www3.kyukyo-u.ac.jp/t/k058/manual/sshdwin.html">SSHダイナミックフォワーディング&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://cloud.google.com/dataproc/docs/concepts/accessing/cluster-web-interfaces?hl=ja">クラスタ ウェブ インターフェース | Dataproc ドキュメント | Google Cloud&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="611">6/11&lt;/h2>
&lt;h3 id="javascriptでラジオボタンのチェックを全部外す方法">JavaScriptでラジオボタンのチェックを全部外す方法&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-JavaScript" data-lang="JavaScript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span> &lt;span style="color:#000">divs&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87">document&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">getElementsByTagName&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;input&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">// let radios = [] // デバッグ
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">for&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span> &lt;span style="color:#000">i&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">div&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span> &lt;span style="color:#000">div&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">divs&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">i&lt;/span>&lt;span style="color:#000;font-weight:bold">];&lt;/span> &lt;span style="color:#000">i&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">++&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;type&amp;#39;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">in&lt;/span> &lt;span style="color:#000">div&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#000">div&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">type&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;radio&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// radios.push(div)
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">div&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">checked&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.nishishi.com/javascript-tips/radiobutton-alloff.html">ラジオボタンのチェックを全部外す機能を作る方法 - JavaScript TIPSふぁくとりー&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://developer.mozilla.org/ja/docs/Web/API/Document/getElementsByTagName">Document.getElementsByTagName() - Web API | MDN&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/rymiyamoto/items/be91b04f70de2b621bb3#objectprototypehasownproperty">jsでのプロパティの存在チェック方法をまとめてみる - Qiita&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2021-03-26</title><link>https://progrhy.me/tech-notes/a/memo/20210326/</link><pubDate>Fri, 26 Mar 2021 14:22:30 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20210326/</guid><description>
&lt;h2 id="326">3/26&lt;/h2>
&lt;h3 id="gke-rbacでmanagedcertificateを操作するためのrole作成">GKE RBACでManagedCertificateを操作するためのRole作成&lt;/h3>
&lt;p>基本、K8s組み込みの権限で事足りるかと思っていたが、GKE固有のカスタムリソースは操作できないようだった。&lt;/p>
&lt;p>今回は次のようなClusterRoleを作ることにした:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-YAML" data-lang="YAML">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ClusterRole&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rbac.authorization.k8s.io/v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gke-managedcertificate-admin&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">rules&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">apiGroups&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;networking.gke.io&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">resources&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;managedcertificates&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">verbs&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;*&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>メモ:&lt;/p>
&lt;ul>
&lt;li>apiGroupsはGKEのオブジェクトブラウザで確認できる&lt;/li>
&lt;li>resourcesは &lt;code>&amp;quot;*&amp;quot;&lt;/code> とか指定できるのかな？&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/ja/docs/reference/access-authn-authz/rbac/">https://kubernetes.io/ja/docs/reference/access-authn-authz/rbac/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/managed-certs">https://cloud.google.com/kubernetes-engine/docs/how-to/managed-certs&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/tkusumi/items/300c566a74b6b64e7e89">Kubernetes: RBACの設定におけるAPIリソース - Qiita&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2021-02-09</title><link>https://progrhy.me/tech-notes/a/memo/20210209/</link><pubDate>Tue, 09 Feb 2021 09:16:43 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20210209/</guid><description>
&lt;h2 id="29">2/9&lt;/h2>
&lt;h3 id="aws-ecsタスク実行でエラー">AWS ECSタスク実行でエラー&lt;/h3>
&lt;p>&lt;code>aws ecs run-task&lt;/code> コマンドで実行し、下のエラーに引っかかった。&lt;/p>
&lt;pre tabindex="0">&lt;code>Error: ClientException: No Fargate configuration exists for given values.
&lt;/code>&lt;/pre>&lt;p>cpu, memoryの値の組がサポートされていなかったため。&lt;br>
下のドキュメントに定められている:&lt;/p>
&lt;p>&lt;a href="https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/task-cpu-memory-error.html">指定された CPU またはメモリの値が無効 - Amazon Elastic Container Service&lt;/a>&lt;/p></description></item><item><title>A: 2021-01-19</title><link>https://progrhy.me/tech-notes/a/memo/20210119/</link><pubDate>Tue, 19 Jan 2021 18:05:57 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20210119/</guid><description>
&lt;h2 id="119">1/19&lt;/h2>
&lt;h3 id="awsと閉域接続したgcpの共有vpc上のinternal-lbにawsからアクセスするには">AWSと閉域接続したGCPの共有VPC上のInternal LBにAWSからアクセスするには&lt;/h3>
&lt;p>Internal LBでGlobal Accessを有効にする必要がある。&lt;/p>
&lt;p>AWSが別リージョンとして扱われてるっぽい？&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://stackoverflow.com/questions/55777939/accessing-gcp-internal-load-balancer-from-another-region">kubernetes - Accessing GCP Internal Load Balancer from another region - Stack Overflow&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://cloud.google.com/load-balancing/docs/internal/setting-up-internal#ilb-global-access">https://cloud.google.com/load-balancing/docs/internal/setting-up-internal#ilb-global-access&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2020-12-09</title><link>https://progrhy.me/tech-notes/a/memo/20201209/</link><pubDate>Wed, 09 Dec 2020 08:38:39 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20201209/</guid><description>
&lt;h2 id="129">12/9&lt;/h2>
&lt;h3 id="最近のknown_hostsはホスト部が暗号化されている">最近のknown_hostsはホスト部が暗号化されている&lt;/h3>
&lt;p>ssh configでHashKnownHostsがYesになってるみたい。&lt;/p>
&lt;p>これを復号する方法を調べてみたが、まだ見つかっていない。ハッシュ化=一方向変換なら、無理か。&lt;/p>
&lt;p>次の操作は可能:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># 該当ホストがknown_hostsに存在するか探す&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ssh-keygen -F &lt;span style="color:#000">$host&lt;/span> -f ~/.ssh/known_hosts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># 該当ホストをknown_hostsから削除&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ssh-keygen -R &lt;span style="color:#000">$host&lt;/span> -f ~/.ssh/known_hosts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>いまのところ考えられるやり方は、次の手順:&lt;/p>
&lt;ol>
&lt;li>ユーザの ~/.ssh/configでHashKnownHostsをnoにする&lt;/li>
&lt;li>known_hostsからエントリを消して再接続する&lt;/li>
&lt;/ol>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://blog.mothule.com/tools/ssh/tools-ssh-keygen-basic">SSH公開鍵認証で必要なssh-keygenの使い方を理解する - もちゅろぐ&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/kamijin_fanta/items/323c14facdf87d723b01">SSHでいつもやる設定 (ControlMaster / Bash補完) - Qiita&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2020 archive</title><link>https://progrhy.me/tech-notes/a/memo/2020/</link><pubDate>Wed, 01 Jan 2020 15:38:43 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/2020/</guid><description/></item><item><title>A: 2018 archive</title><link>https://progrhy.me/tech-notes/a/memo/2018/</link><pubDate>Mon, 01 Jan 2018 16:05:34 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/2018/</guid><description/></item></channel></rss>