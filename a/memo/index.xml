<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>progrhyme's Tech Notes â€“ Memorandum</title><link>https://progrhy.me/tech-notes/a/memo/</link><description>Recent content in Memorandum on progrhyme's Tech Notes</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sat, 25 Apr 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://progrhy.me/tech-notes/a/memo/index.xml" rel="self" type="application/rss+xml"/><item><title>A: 2020-05-10</title><link>https://progrhy.me/tech-notes/a/memo/20200510/</link><pubDate>Sun, 10 May 2020 15:19:43 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20200510/</guid><description>
&lt;h2 id="510">5/10&lt;/h2>
&lt;h3 id="terraformã®kubernetes-providerã‚’è©¦ã—ã¦ã¿ã‚‹">Terraformã®Kubernetes Providerã‚’è©¦ã—ã¦ã¿ã‚‹&lt;/h3>
&lt;p>â€»ãƒ–ãƒ­ã‚°ã«ç§»ã—ãŸ: &lt;a href="https://tech-progrhyme.hatenablog.com/entry/2020/05/10/121145">Terraformã®Kubernetes Providerã§K8sã®ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã«ãƒˆãƒ©ã‚¤ - progrhyme&amp;rsquo;s tech blog&lt;/a>&lt;/p>
&lt;h3 id="ubuntuã§ã‚‚anyenvã‚’ä½¿ã†ã“ã¨ã«ã—ãŸ">Ubuntuã§ã‚‚anyenvã‚’ä½¿ã†ã“ã¨ã«ã—ãŸ&lt;/h3>
&lt;p>Ubuntuã§æœ€è¿‘Rubyè§¦ã£ã¦ãªã‹ã£ãŸã®ã§ã€å…¥ã£ã¦ã„ã‚‹RubyãŒå¤ã„ã“ã¨ã«æ°—ã¥ã„ãŸã®ã ã‘ã©ã€rbenvã‚‚ &lt;code>git clone&lt;/code> ã—ã¦å…¥ã‚ŒãŸã‚‚ã®ãªã®ã§ã€å¤ã„ã€‚&lt;br>
plenv, pyenvã‚‚åŒæ§˜ã§ã‚ã‚‹ã€‚&lt;/p>
&lt;p>&lt;a href="../2020/20200428/">4/28&lt;/a>ã«macOSã§anyenvã‚’è©¦ã—ãŸã®ã ã‘ã©ã€Ubuntuã§ã‚‚ä½¿ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã€‚&lt;/p>
&lt;p>&lt;a href="https://github.com/anyenv/anyenv">https://github.com/anyenv/anyenv&lt;/a>&lt;/p>
&lt;p>è‡ªåˆ†ç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã« &lt;code>setup-rbenv.sh&lt;/code> ã¨ã‹å…¥ã‚Œã¦ã‚‹ã‘ã©ã€anyenvã§ç®¡ç†ã—ãŸæ–¹ãŒç­‹ãŒã‚ˆã•ãã†ã€‚&lt;/p>
&lt;h4 id="anyenv-install">anyenv install&lt;/h4>
&lt;p>Linuxbrewã‚’å…¥ã‚Œã¦ã‚‹ã®ã§ã€brewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããŸã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% brew install &lt;span style="color:#000">anyenv&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span>&amp;gt; Downloading https://linuxbrew.bintray.com/bottles/anyenv-1.1.1.x86_64_linux.bottle.tar.gz
&lt;span style="color:#8f5902;font-style:italic">######################################################################## 100.0%&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span>&amp;gt; Pouring anyenv-1.1.1.x86_64_linux.bottle.tar.gz
ðŸº /home/linuxbrew/.linuxbrew/Cellar/anyenv/1.1.1: &lt;span style="color:#0000cf;font-weight:bold">23&lt;/span> files, 48.4KB
% anyenv init
&lt;span style="color:#8f5902;font-style:italic"># Load anyenv automatically by adding&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># the following to ~/.zshrc:&lt;/span>
&lt;span style="color:#204a87">eval&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>anyenv init -&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>
% &lt;span style="color:#204a87">eval&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>anyenv init -&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>
ANYENV_DEFINITION_ROOT&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>/home/quiche/.config/anyenv/anyenv-install&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> doesn&lt;span style="color:#4e9a06">&amp;#39;t exist. You can initialize it by:
&lt;/span>&lt;span style="color:#4e9a06">&amp;gt; anyenv install --init
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">% anyenv install --init
&lt;/span>&lt;span style="color:#4e9a06">Manifest directory doesn&amp;#39;&lt;/span>t exist: /home/quiche/.config/anyenv/anyenv-install
Do you want to checkout ? &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>y/N&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>: y
Cloning https://github.com/anyenv/anyenv-install.git master to /home/quiche/.config/anyenv/anyenv-install...
Cloning into &lt;span style="color:#4e9a06">&amp;#39;/home/quiche/.config/anyenv/anyenv-install&amp;#39;&lt;/span>...
remote: Enumerating objects: 48, &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>.
remote: Total &lt;span style="color:#0000cf;font-weight:bold">48&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>delta 0&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>, reused &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>delta 0&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>, pack-reused &lt;span style="color:#0000cf;font-weight:bold">48&lt;/span>
Unpacking objects: 100% &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>48/48&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>, &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>.
Completed!
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ã“ã“ã¾ã§ã‚„ã£ã¦ &lt;code>exec $SHELL -l&lt;/code> ã—ã¦ã‚‚ã¾ã PATHã«ã¯å¤‰åŒ–ãªã—ã€‚&lt;br>
ã©ã†ã‚‚ä½•ã‹ã—ã‚‰ &lt;code>*env&lt;/code> ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã„ã¨ã„ã‘ãªã„ã‚‰ã—ã„ã€‚&lt;/p>
&lt;p>&lt;code>anyenv install rbenv&lt;/code> ã—ã¦ã‹ã‚‰ã‚·ã‚§ãƒ«ã«å†ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ã€PATHã« &lt;code>$HOME/.anyenv/envs/rbenv/shims&lt;/code>, &lt;code>$HOME/.anyenv/envs/rbenv/bin&lt;/code> ãŒè¿½åŠ ã•ã‚ŒãŸã€‚&lt;/p>
&lt;h4 id="rubyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã‚„ã‚„ãƒãƒžã£ãŸ">rubyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã‚„ã‚„ãƒãƒžã£ãŸ&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% rbenv install 2.7.1 -v
:
ruby: error &lt;span style="color:#204a87;font-weight:bold">while&lt;/span> loading shared libraries: libruby.so.2.7: cannot open shared object file: No such file or directory
uncommon.mk:1130: recipe &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> target &lt;span style="color:#4e9a06">&amp;#39;revision.tmp&amp;#39;&lt;/span> failed
make: *** &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>revision.tmp&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Error &lt;span style="color:#0000cf;font-weight:bold">127&lt;/span>
BUILD FAILED &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>Ubuntu 18.04 using ruby-build 20200401-11-g12af1c3&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã—ãŸã€‚&lt;br>
ã©ã†ã‚‚ã“ã‚Œã¯rdocã®ç”Ÿæˆã§ã‚³ã‚±ã¦ã„ã‚‹ã‚ˆã†ã ã€‚&lt;/p>
&lt;p>ãŸã ã€ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã‚’è¦‹ãŸã‚‰ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã‚‚å‡ºã¦ã„ãŸã€‚&lt;/p>
&lt;pre>&lt;code>% view /tmp/ruby-build.20200510143333.6198.log
:
1660 *** Following extensions are not compiled:$
1661 dbm:$
1662 &amp;gt;-Could not be configured. It will not be installed.$
1663 &amp;gt;-Check ext/dbm/mkmf.log for more details.$
1664 gdbm:$
1665 &amp;gt;-Could not be configured. It will not be installed.$
1666 &amp;gt;-Check ext/gdbm/mkmf.log for more details.$
1667 *** Fix the problems, then remove these directories and try again if you want.$
:
&lt;/code>&lt;/pre>&lt;p>ã‚ˆãã‚ã‹ã‚‰ãªã„ã¾ã¾ãƒ“ãƒ«ãƒ‰ã«å¿…è¦ãã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãƒªãƒˆãƒ©ã‚¤ã—ãŸã€‚&lt;/p>
&lt;pre>&lt;code>sudo apt install build-essential bison libffi-dev libgdbm-dev libgdbm-compat-dev \
libreadline-dev libssl-dev zlib1g-dev
&lt;/code>&lt;/pre>&lt;p>å‚è€ƒ: &lt;a href="https://qiita.com/raccy/items/cd0b39a33dbe764480be">Rubyã‚’ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã¨ãã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª - Qiita&lt;/a>&lt;/p>
&lt;p>ä¸Šã§ã€ã„ãã¤ã‹ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯æ—¢ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãŸã€‚&lt;/p>
&lt;p>ãƒªãƒˆãƒ©ã‚¤ã—ãŸçµæžœã€çµå±€ã€ã•ã£ãã¨åŒã˜rubyã®ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã—ãŸã€‚&lt;br>
ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã‹ã‚‰ã€dbmé–¢é€£ã®ã‚¨ãƒ©ãƒ¼ã¯æ¶ˆãˆã¦ã„ãŸã®ã§ã€ãã“ã¯è§£æ¶ˆã—ãŸã‚‰ã—ã„ã€‚&lt;/p>
&lt;p>é—‡é›²ã«åˆ¥ã®ã¾ã£ã•ã‚‰ãªã‚·ã‚§ãƒ«ã‚’ç«‹ã¡ä¸Šã’ã¦å†åº¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è©¦ã¿ãŸã¨ã“ã‚ã€æˆåŠŸã—ãŸã€‚&lt;/p>
&lt;p>ã¾ã  &lt;code>~/.rbenv&lt;/code> ã«å¤ã„rbenvãŒå…¥ã£ã¦ã„ã¦ã€ &lt;code>ruby&lt;/code> ãŒ &lt;code>~/.rbenv/shims/ruby&lt;/code> ã‚’å‘ã„ã¦ã„ãŸã®ã§ã€ãã®è¾ºãŒæ‚ªã•ã‚’ã—ã¦ã„ãŸã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚&lt;/p>
&lt;p>ã“ã‚Œã§é§„ç›®ã ã£ãŸã‚‰rdocã®ç”Ÿæˆã‚’ã‚ªãƒ•ã—ã‚ˆã†ã‹ã¨æ€ã£ã¦ã„ãŸã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://hackbaka.hatenablog.com/entry/2018/09/13/151242">Ruby ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã® rdoc ã‚¨ãƒ©ãƒ¼[Ubuntu] - ãƒãƒƒã‚­ãƒ³ã‚°ãƒã‚«&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="clenvã§travis-ciã®ãƒ“ãƒ«ãƒ‰é€šçŸ¥ã¨ãƒãƒƒã‚¸ã‚’ä¿®æ­£ã—ãŸ">clenvã§Travis CIã®ãƒ“ãƒ«ãƒ‰é€šçŸ¥ã¨ãƒãƒƒã‚¸ã‚’ä¿®æ­£ã—ãŸ&lt;/h3>
&lt;p>&lt;a href="https://github.com/progrhyme/clenv">https://github.com/progrhyme/clenv&lt;/a>&lt;/p>
&lt;p>æ˜”ã€ãƒªãƒã‚¸ãƒˆãƒªã‚’ key-amb -&amp;gt; progrhyme ã«ç§»ã—ãŸã®ã ã‘ã©ã€ãã®ã›ã„ã§ãƒãƒƒã‚¸ã¨Slacké€šçŸ¥ãŒãŠã‹ã—ããªã£ã¦ã„ãŸã€‚&lt;/p>
&lt;p>Slackã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è‡ªä½“ã¯ç”Ÿãã¦ã„ãŸã®ã§ã€ &lt;code>travis&lt;/code> ã‚³ãƒžãƒ³ãƒ‰ã§è¨­å®šã‚’ã—ç›´ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">gem i travis
travis encrypt &lt;span style="color:#4e9a06">&amp;#34;&amp;lt;Slack Workspace&amp;gt;:&amp;lt;Slack Integration Token&amp;gt;&amp;#34;&lt;/span> --add notifications.slack.rooms
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ã“ã‚Œã§ .travis.yml ãŒæ›´æ–°ã•ã‚ŒãŸã®ã§ã€GitHubã«pushã—ã¦å®Œäº†ã€‚&lt;/p>
&lt;p>ãƒãƒƒã‚¸ã‚‚æ–°ã—ã„URLã§å–å¾—ã—ãŸã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.travis-ci.com/user/notifications/#configuring-slack-notifications">https://docs.travis-ci.com/user/notifications/#configuring-slack-notifications&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2020-05-09</title><link>https://progrhy.me/tech-notes/a/memo/20200509/</link><pubDate>Sat, 09 May 2020 15:48:56 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20200509/</guid><description>
&lt;h2 id="59">5/9&lt;/h2>
&lt;h3 id="ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚³ãƒ¡ãƒ³ãƒˆã‚’podã§æ›¸ãã®ã¯ã‚‚ã†ã‚„ã‚ã¦ã„ã„ã‹ãª">ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚³ãƒ¡ãƒ³ãƒˆã‚’PODã§æ›¸ãã®ã¯ã‚‚ã†ã‚„ã‚ã¦ã„ã„ã‹ãª&lt;/h3>
&lt;p>ã„ã¤ã ã£ãŸã‹ã€ä½•ã‹ã®æœ¬ã§ãã†ã„ã†æ›¸ãæ–¹ã‚’è¦‹ã¦ã‹ã‚‰ãšã£ã¨ãã†ã‚„ã£ã¦ã‚‹ã€‚&lt;/p>
&lt;p>ä¾‹:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic">#!/usr/bin/env bash
&lt;/span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
:
&lt;span style="color:#204a87">exit&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>
: &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;&amp;#39;__EOF__&amp;#39;
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">=encoding utf8
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">=head1 NAME
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">B&amp;lt;my-script&amp;gt; - short description
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">=head1 DESCRIPTION
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">:
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">=cut
&lt;/span>&lt;span style="color:#4e9a06">
&lt;/span>&lt;span style="color:#4e9a06">__EOF__&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ã“ã‚Œã§PODã«é£Ÿã‚ã›ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦è§£é‡ˆã—ã¦ãã‚Œã‚‹ã®ã§ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã¯ &lt;code>pod2text $0&lt;/code> ã¨ã‹ã§ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤ºã§ãã‚‹ã€‚&lt;/p>
&lt;p>â€¦ãŒã€ãã‚ãã‚ &lt;code>pod2text&lt;/code> ãŒã©ã®ç’°å¢ƒã«ã‚‚å…¥ã£ã¦ã„ã‚‹ã¨æƒ³å®šã™ã¹ãã§ãªã„ã‹ã‚‚â€¦ã¨ã„ã†æ°—ãŒã—ã¦ããŸã€‚&lt;br>
ã¨ã“ã‚ãŒã€ã˜ã‚ƒã‚ã©ã†æ›¸ã„ãŸã‚‰ã„ã„ã®ï¼Ÿã£ã¦ã„ã†ã®ã«ã¯æ±ºå®šç‰ˆãŒãªã„æ°—ãŒã™ã‚‹ã€‚&lt;/p>
&lt;p>ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã¡ã‚ƒã‚“ã¨ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã“ã†ã¨ã—ã¦ã„ã‚‹äººãŸã¡ã®é–“ã§ã¯ã€ä¸»ã«2ã¤ã®æ´¾é–¥ãŒã‚ã‚‹æ°—ãŒã™ã‚‹:&lt;/p>
&lt;ol>
&lt;li>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ˜ãƒƒãƒ€ã‚„é–¢æ•°ã®ãƒ˜ãƒƒãƒ€ã¨ã—ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚³ãƒ¡ãƒ³ãƒˆã‚’ãã‚Œãªã‚Šã®ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã§æ›¸ãã¾ã—ã‚‡ã†æ´¾ã€‚&lt;a href="https://google.github.io/styleguide/shellguide.html#s4.1-file-header">Googleã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„&lt;/a>ã‚‚ã“ã‚Œ&lt;/li>
&lt;li>&lt;code>usage()&lt;/code> é–¢æ•°å†…ã«ãƒ’ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§æ›¸ãã¾ã—ã‚‡ã†æ´¾&lt;/li>
&lt;/ol>
&lt;p>ã„ã„ã¨ã“å–ã‚Šã‚’ã—ã¦ã‚‹æ„Ÿã˜ã«è¦‹ãˆã‚‹ã®ã¯ã€ &lt;code>usage()&lt;/code> é–¢æ•°ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ãƒ˜ãƒ«ãƒ—ã£ã½ãå‡ºåŠ›ã—ã¦ã‚‹ã‚‚ã®ã€‚&lt;br>
ä¸‹ã®ã‚ˆã†ãªä¾‹ãŒã‚ã£ãŸ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/ngyuki/items/673d6cb3b36360eaf5cc">ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã«æ›¸ã„ã¦è¡¨ç¤ºã™ã‚‹ - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/TomKid/items/ab49f8d0cd15b18e5e4a">è‡ªä½œã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ãƒ˜ãƒ«ãƒ—ã‚„ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®Ÿè£…ï¼Ÿã™ã‚‹é¢ç™½ã„æ–¹æ³•ãŒã‚ã£ãŸ - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>è‡ªåˆ†ã§ç‹¬è‡ªãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã„ã¦ã„ã‚‹ã€ã¨ã„ã†ç‚¹ã§ã¯ã€ä¸‹ã‚‚ã“ã®é¡žåž‹ã«ã‚ãŸã‚‹ã‹:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/ssh0/items/0c14ee8949512a4dc98e">ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¾¤ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›¸ãã®é¢å€’ã ã‹ã‚‰è‡ªå‹•ã§README.mdã‚’ç”Ÿæˆã™ã‚‹ - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/jmcantrell/bashful/blob/master/bin/shdoc">https://github.com/jmcantrell/bashful/blob/master/bin/shdoc&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>godocã¿ãŸã„ãªã®ãªã„ã‹ãªã€ã¨æ€ã£ã¦ã€Œshelldocã€ã¨ã‹ã€Œshdocã€ã¨ã‹ã§ããã‚‹ã¨ãŸãã•ã‚“å‡ºã¦ãã‚‹ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://shellscript.sunone.me/tips.html">ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ Tips | UNIX &amp;amp; Linux ã‚³ãƒžãƒ³ãƒ‰ãƒ»ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="microk8sã‚’ä½¿ã£ã¦ã¿ã‚‹">Microk8sã‚’ä½¿ã£ã¦ã¿ã‚‹&lt;/h3>
&lt;p>â€»ãƒ–ãƒ­ã‚°ã«ç§»ã—ãŸ: &lt;a href="https://tech-progrhyme.hatenablog.com/entry/2020/05/10/110630">Ubuntuã§Kubernetesã®ãƒ†ã‚¹ãƒˆç’°å¢ƒã¨ã—ã¦Microk8sã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ãŸ - progrhyme&amp;rsquo;s tech blog&lt;/a>&lt;/p></description></item><item><title>A: 2020-05-08</title><link>https://progrhy.me/tech-notes/a/memo/20200508/</link><pubDate>Fri, 08 May 2020 10:26:17 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20200508/</guid><description>
&lt;h2 id="58">5/8&lt;/h2>
&lt;h3 id="terraformerã‚’gcpã§ä½¿ã£ã¦ã¿ãŸ">terraformerã‚’GCPã§ä½¿ã£ã¦ã¿ãŸ&lt;/h3>
&lt;p>GCPã§default networkã‚’importã—ãŸã„ã¨æ€ã£ãŸã€‚&lt;br>
ãµã¤ã†ã« &lt;code>terraform import&lt;/code> ã‚’ä½¿ãˆã°ã„ã„ã®ã ãŒã€terraformerã®ã“ã¨ã‚’æ€ã„å‡ºã—ãŸã®ã§ã€ä½¿ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã€‚&lt;br>
terraformerã‚’ä½¿ãˆã°HCLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚&lt;/p>
&lt;p>terraformerã«ã¤ã„ã¦ã®ä¸€èˆ¬çš„ãªå†…å®¹ã¯&lt;a href="https://progrhy.me/tech-notes/a/software/terraform/terraformer/">terraformer&lt;/a>ã«ãƒ¡ãƒ¢ã—ã¦ã„ã‚‹ã€‚&lt;/p>
&lt;p>ä½œæ¥­ç’°å¢ƒ: macOS&lt;/p>
&lt;p>Install:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">brew install terraformer
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æº–å‚™ã¨ã—ã¦ã€ &lt;code>~/.terraform.d/plugins/darwin_amd64/&lt;/code> ã« &lt;code>terraform-provider-google_v3.20.0_x5&lt;/code> ã‚’ç½®ãã€‚&lt;br>
ä»Šå›žã¯terraformå®Ÿè¡Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® &lt;code>.terraform/plugins&lt;/code> ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">terraformer import google --projects&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>my-project &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --regions&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>asia-northeast1 --resources&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>networks,subnetworks
&lt;/code>&lt;/pre>&lt;/div>&lt;p>çµæžœ:&lt;/p>
&lt;pre>&lt;code>% tree generated
generated
â””â”€â”€ google
â””â”€â”€ my-project
â”œâ”€â”€ networks
â”‚Â Â  â””â”€â”€ asia-northeast1
â”‚Â Â  â”œâ”€â”€ compute_network.tf
â”‚Â Â  â”œâ”€â”€ outputs.tf
â”‚Â Â  â”œâ”€â”€ provider.tf
â”‚Â Â  â””â”€â”€ terraform.tfstate
â””â”€â”€ subnetworks
â””â”€â”€ asia-northeast1
â”œâ”€â”€ compute_subnetwork.tf
â”œâ”€â”€ outputs.tf
â”œâ”€â”€ provider.tf
â”œâ”€â”€ terraform.tfstate
â””â”€â”€ variables.tf
6 directories, 9 files
&lt;/code>&lt;/pre>&lt;p>tfãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-HCL" data-lang="HCL">&lt;span style="color:#a40000">%&lt;/span> &lt;span style="color:#204a87;font-weight:bold">cat&lt;/span> &lt;span style="color:#204a87;font-weight:bold">generated&lt;/span>&lt;span style="color:#a40000">/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">google&lt;/span>&lt;span style="color:#a40000">/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">my&lt;/span>&lt;span style="color:#a40000">-&lt;/span>&lt;span style="color:#204a87;font-weight:bold">project&lt;/span>&lt;span style="color:#a40000">/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">networks&lt;/span>&lt;span style="color:#a40000">/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">asia&lt;/span>&lt;span style="color:#a40000">-&lt;/span>&lt;span style="color:#204a87;font-weight:bold">northeast1&lt;/span>&lt;span style="color:#a40000">/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">compute_network&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tf&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">resource&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;google_compute_network&amp;#34; &amp;#34;tfer--default&amp;#34;&lt;/span> {
&lt;span style="color:#000"> auto_create_subnetworks&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>
&lt;span style="color:#000"> delete_default_routes_on_create&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;false&amp;#34;&lt;/span>
&lt;span style="color:#000"> description&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Default network for the project&amp;#34;&lt;/span>
&lt;span style="color:#000"> name&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>
&lt;span style="color:#000"> project&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;my-project&amp;#34;&lt;/span>
&lt;span style="color:#000"> routing_mode&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;REGIONAL&amp;#34;&lt;/span>
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>tfstateã®ã‚µãƒ³ãƒ—ãƒ«:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-JSON" data-lang="JSON">&lt;span style="color:#a40000">%&lt;/span> &lt;span style="color:#a40000">cat&lt;/span> &lt;span style="color:#a40000">generated/google/my-project/subnetworks/asia-northeast&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#a40000">/terraform.tfstate&lt;/span>
&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;version&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;terraform_version&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;0.12.18&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;serial&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;lineage&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;XXXXXXXXXXXX&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;modules&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;path&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;root&amp;#34;&lt;/span>
&lt;span style="color:#000;font-weight:bold">],&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;outputs&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;google_compute_subnetwork_tfer--default_self_link&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;sensitive&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;type&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;string&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;value&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;https://www.googleapis.com/compute/v1/projects/my-project/regions/asia-northeast1/subnetworks/default&amp;#34;&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;resources&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;google_compute_subnetwork.tfer--default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;type&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;google_compute_subnetwork&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;depends_on&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[],&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;primary&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;id&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;attributes&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;creation_timestamp&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;2020-05-07T02:07:01.455-07:00&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;description&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;gateway_address&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;10.146.0.1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;id&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;ip_cidr_range&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;10.146.0.0/20&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;log_config.#&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;span style="color:#a40000">:&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>terraform_version&lt;/code> ãŒãƒžã‚·ãƒ³ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨é•ã†ã®ã¯ã€terraformerãŒåŒæ¢±ã—ã¦ã„ã‚‹ã£ã¦ã“ã¨ãªã®ã‹ãªï¼Ÿ&lt;/p>
&lt;h3 id="kubernetesã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’vcsã§ç®¡ç†ã—ã¦å‰Šé™¤ã¾ã§æ­£ã—ãåŒæœŸã™ã‚‹æ–¹æ³•">Kubernetesã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’VCSã§ç®¡ç†ã—ã¦ã€å‰Šé™¤ã¾ã§æ­£ã—ãåŒæœŸã™ã‚‹æ–¹æ³•&lt;/h3>
&lt;p>â€»5/9 ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ãŸ: &lt;a href="https://tech-progrhyme.hatenablog.com/entry/2020/05/09/125134">Kubernetesã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’ãƒªãƒã‚¸ãƒˆãƒªç®¡ç†ã—ã¤ã¤ã€ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ã‚‚åæ˜ ã—ãŸã„ä»¶ - progrhyme&amp;rsquo;s tech blog&lt;/a>&lt;/p>
&lt;p>æŸæ‰€ã§èžã„ãŸã‚Šã—ã¦æƒ…å ±ã‚’é›†ã‚ãŸã€‚&lt;br>
ã“ã®ã‚¨ãƒ³ãƒˆãƒªã¯å¾ŒæŽ²ã®é–¢é€£ãƒªãƒ³ã‚¯ã®ç¶šãã§ã‚ã‚‹ã€‚&lt;/p>
&lt;ol>
&lt;li>ç®¡ç†å¯¾è±¡ã®ãƒªã‚½ãƒ¼ã‚¹ã« &lt;code>label&lt;/code> ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’æŒ¯ã‚Šã€æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’é…ç½®ã—ãŸå¾Œã€å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã™ã‚‹&lt;/li>
&lt;li>&lt;code>kubectl apply&lt;/code> æ™‚ã« &lt;code>--prune&lt;/code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹&lt;/li>
&lt;li>Argo CDã®Automatic Pruningæ©Ÿèƒ½ã‚’ä½¿ã†&lt;/li>
&lt;li>ãƒªã‚½ãƒ¼ã‚¹ã‚’Terraformã§ç®¡ç†ã™ã‚‹&lt;/li>
&lt;/ol>
&lt;p>é–¢é€£:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="../20200505/#kubernetes%E3%81%AE%E3%83%9E%E3%83%8B%E3%83%95%E3%82%A7%E3%82%B9%E3%83%88%E3%81%AF%E5%85%A8%E9%83%A8export%E3%81%97%E3%81%A6%E7%AE%A1%E7%90%86%E3%81%97%E3%81%9F%E6%96%B9%E3%81%8C%E3%81%84%E3%81%84%E3%82%93%E3%81%98%E3%82%83%E3%81%AD%E3%81%A3%E3%81%A6%E6%80%9D%E3%81%A3%E3%81%9F">2020-05-05ã®ãƒ¡ãƒ¢ - Kubernetesã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã¯å…¨éƒ¨exportã—ã¦ç®¡ç†ã—ãŸæ–¹ãŒã„ã„ã‚“ã˜ã‚ƒã­ï¼Ÿã£ã¦æ€ã£ãŸ&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2020-05-06</title><link>https://progrhy.me/tech-notes/a/memo/20200506/</link><pubDate>Wed, 06 May 2020 13:29:34 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20200506/</guid><description>
&lt;h2 id="56">5/6&lt;/h2>
&lt;h3 id="githubã®releasesã‹ã‚‰å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–ã£ã¦ãã¦ã„ã„æ„Ÿã˜ã«ç®¡ç†ã§ãã‚‹ã‚„ã¤">GitHubã®releasesã‹ã‚‰å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–ã£ã¦ãã¦ã„ã„æ„Ÿã˜ã«ç®¡ç†ã§ãã‚‹ã‚„ã¤&lt;/h3>
&lt;p>ãªã‚“ã‹ãªã„ã‹ãªã¨æ€ã£ãŸã‘ã©ã€&lt;a href="https://github.com/Songmu/ghg">Songmu/ghg&lt;/a>ä»¥ä¸Šã®ã‚‚ã®ã¯è¦‹ã¤ã‹ã‚‰ãªã„ãªã€‚&lt;/p>
&lt;p>hubã‚³ãƒžãƒ³ãƒ‰ã‚ãŸã‚Šã§å®Ÿè£…ã•ã‚Œã¦ãŸã‚Šã¯ã—ãªã‹ã£ãŸã€‚&lt;/p>
&lt;p>&lt;a href="https://hub.github.com/hub.1.html">https://hub.github.com/hub.1.html&lt;/a>&lt;/p>
&lt;h3 id="ghgã§mdbookã‚’å…¥ã‚Œã‚ˆã†ã¨æ€ã£ãŸãŒå¤±æ•—ã—ãŸ">ghgã§mdBookã‚’å…¥ã‚Œã‚ˆã†ã¨æ€ã£ãŸãŒå¤±æ•—ã—ãŸ&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% env &lt;span style="color:#000">GHG_HOME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">$HOME&lt;/span> ghg get rust-lang/mdBook
fetch the GitHub release &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> rust-lang/mdBook
no assets available
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‚²ã—ã„ã€‚&lt;br>
çµå±€wget -&amp;gt; tar xvfã§å…¥ã‚Œã¾ã—ãŸã€‚&lt;/p></description></item><item><title>A: 2020-05-05</title><link>https://progrhy.me/tech-notes/a/memo/20200505/</link><pubDate>Tue, 05 May 2020 07:25:57 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20200505/</guid><description>
&lt;h2 id="55">5/5&lt;/h2>
&lt;h3 id="kubernetesã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã¯å…¨éƒ¨exportã—ã¦ç®¡ç†ã—ãŸæ–¹ãŒã„ã„ã‚“ã˜ã‚ƒã­ã£ã¦æ€ã£ãŸ">Kubernetesã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã¯å…¨éƒ¨exportã—ã¦ç®¡ç†ã—ãŸæ–¹ãŒã„ã„ã‚“ã˜ã‚ƒã­ï¼Ÿã£ã¦æ€ã£ãŸ&lt;/h3>
&lt;p>exportã®ã‚„ã‚Šæ–¹ã¯èª¿ã¹ã¦&lt;a href="https://progrhy.me/tech-notes/a/software/k8s/kubectl/#%E5%85%A8%E3%81%A6%E3%81%AE%E3%83%9E%E3%83%8B%E3%83%95%E3%82%A7%E3%82%B9%E3%83%88%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E3%81%9F%E3%81%84">kubectlã®ãƒšãƒ¼ã‚¸#å…¨ã¦ã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’å–å¾—ã—ãŸã„&lt;/a>ã«æ›¸ã„ãŸã€‚&lt;/p>
&lt;p>â€¦ã¨ã„ã†ã‹ã€exportã—ã¦ãªã„ã¨ä¸å®‰ã§ã‚ã‚‹ã€‚&lt;/p>
&lt;p>kustomizeã§ç®¡ç†ã—ã¦ã„ã¦ã‚‚ã€é‡Žè‰¯ã®ãƒªã‚½ãƒ¼ã‚¹ãŒãªã„ã“ã¨ã‚’ä¿è¨¼ã§ããªã„ã€‚&lt;br>
ç´ ã®ãƒžãƒ‹ãƒ•ã‚§ã‚¹ãƒˆç®¡ç†ã§ã‚‚åŒæ§˜ã€‚&lt;/p>
&lt;p>&lt;code>kubectl apply&lt;/code> ã¯ã€ãµã¤ã†ã¯å‰Šé™¤åŒæœŸã‚’ã‚„ã£ã¦ãã‚Œãªã„ã®ã§ã€‚&lt;/p>
&lt;p>ï¼ˆâ€»â€¦ã¨æ€ã£ã¦ã€ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’èª­ã¿è¿”ã—ã¦ã„ãŸã‚‰ã€ &lt;code>--prune&lt;/code> ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒÎ±æ©Ÿèƒ½ã§ã‚ã‚‹ã‚ˆã†ã ã€‚ã“ã‚Œã«ã¤ã„ã¦ã¯ã€&lt;a href="https://progrhy.me/tech-notes/a/software/k8s/kubectl/#apply">kubectl#apply&lt;/a>ã«æ›¸ã„ãŸï¼‰&lt;/p>
&lt;p>å®šæœŸçš„ã«dumpã—ã¦å·®åˆ†ãŒãªã„ã‹ãƒã‚§ãƒƒã‚¯ã—ãŸæ–¹ãŒã„ã„ã‚“ã˜ã‚ƒãªã„ã‹ãªã€‚&lt;br>
ç‰¹ã«ã€æœ¬ç•ªã¨stagingç’°å¢ƒã¯ã€‚&lt;/p>
&lt;p>é€†ã«ã€export -&amp;gt; applyã®é‹ç”¨ã«ã—ã¦ã„ã‚Œã°ã€stagingç’°å¢ƒã®å·®åˆ†ã‚’ãã®ã¾ã¾æœ¬ç•ªã«é©ç”¨ã™ã‚‹é‹ç”¨ãŒå¯èƒ½ã§ã¯ãªã„ã ã‚ã†ã‹ã€‚&lt;br>
ã“ã®ã‚„ã‚Šæ–¹ãªã‚‰ã€ä»°ã€…ã—ã„K8så¯¾å¿œã®CI/CDãƒ„ãƒ¼ãƒ«ãªã©ä½¿ã‚ãªãã¦ã‚‚ã€kubectlã¨GitOpsã ã‘ã§è¡Œã‘ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚&lt;/p>
&lt;p>ã¾ã è©¦ã—ã¦ãªã„ã®ã§ã€å®Ÿéš›ã«ã‚„ã£ã¦ã¿ãŸã‚‰è‰²ã€…ã¨èª²é¡Œã‚‚å‡ºã¦ãã‚‹ã ã‚ã†ã‘ã©ã€‚&lt;/p>
&lt;h3 id="neobundleã‹ã‚‰deinvimã«ä¹—ã‚Šæ›ãˆãŸ">NeoBundleã‹ã‚‰dein.vimã«ä¹—ã‚Šæ›ãˆãŸ&lt;/h3>
&lt;p>â€»5/6 ãƒ–ãƒ­ã‚°æ›¸ã„ãŸ: &lt;a href="https://tech-progrhyme.hatenablog.com/entry/2020/05/06/122034">ä»Šæ›´ã ã‘ã©NeoBundleã‹ã‚‰dein.vimã«ä¹—ã‚Šæ›ãˆã¦ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’6ã¤è¿½åŠ ã—ãŸ - progrhyme&amp;rsquo;s tech blog&lt;/a>&lt;/p>
&lt;p>ä»Šæ›´ã‹ã‚ˆã£ã¦æ„Ÿã˜ã ã‘ã©ä¹—ã‚Šæ›ãˆãŸã€‚&lt;br>
NeoBundleã¯2å¹´ãã‚‰ã„å‰ã«æ›´æ–°ãŒæ­¢ã¾ã£ã¦ã„ãŸã€‚&lt;/p>
&lt;p>ä½œæ¥­ãƒžã‚·ãƒ³ã¯Ubuntu 18.04&lt;/p>
&lt;p>See also &lt;a href="https://progrhy.me/tech-notes/a/program/vim/#deinvim">Vim#deinvim&lt;/a>&lt;/p>
&lt;h4 id="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h4>
&lt;p>&lt;a href="https://github.com/Shougo/dein.vim#quick-start">https://github.com/Shougo/dein.vim#quick-start&lt;/a> ã«å¾“ã†ã€‚&lt;/p>
&lt;p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã¯ &lt;code>~/.vim/dein&lt;/code> ã¨ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh &amp;gt; installer.sh
sh ./installer.sh ~/.vim/dein
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®Ÿéš›ã¯&lt;a href="https://github.com/progrhyme/dotfiles/commit/1ef6a75f2952407d6758eb0c1cef584943ed9ecc">ã“ã‚“ãªæ„Ÿã˜&lt;/a>ã§ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å¯¾å¿œã—ãŸã€‚&lt;/p>
&lt;h4 id="vimrcã®ç§»è¡Œ">vimrcã®ç§»è¡Œ&lt;/h4>
&lt;p>&lt;a href="https://github.com/progrhyme/dotfiles/commit/35f3be479a57e92d98a6182792b900366ab20beb">ã“ã®ã‚³ãƒŸãƒƒãƒˆ&lt;/a>ã§å¯¾å¿œã—ãŸã€‚&lt;/p>
&lt;p>ã¨ã‚Šã‚ãˆãšä½¿ã£ã¦ã‚‹ã®ã¯å…¨éƒ¨ç§»è¡Œã—ã‚ˆã†ã‹ã¨æ€ã£ãŸã‘ã©ã€æ¬¡ã®è¡Œã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã¤ã„ã¦ã¯ã©ã†ç§»è¡Œã™ã‚Œã°ã„ã„ã®ã‹ã±ã£ã¨ã‚ã‹ã‚‰ãšã€æ‚©ã‚“ã :&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-Vim" data-lang="Vim">&lt;span style="color:#000">NeoBundleLazy&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;mopp/layoutplugin.vim&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> { &lt;span style="color:#4e9a06">&amp;#39;autoload&amp;#39;&lt;/span> : { &lt;span style="color:#4e9a06">&amp;#39;commands&amp;#39;&lt;/span> : &lt;span style="color:#4e9a06">&amp;#39;LayoutPlugin&amp;#39;&lt;/span>} }&lt;span style="color:#a40000">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ãã‚‚ãã‚‚ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯vim-pluginã®é››å½¢ä½œæˆãƒ„ãƒ¼ãƒ«ã§ã€ä»Šã®ã¨ã“ã‚ä½¿ã†äºˆå®šãŒãªã„ã®ã§ã€æ¶ˆã™ã“ã¨ã«ã—ãŸã€‚&lt;/p>
&lt;p>ã‚ã¨ã€TOMLã«å¯¾å¿œã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒãªã‹ã£ãŸã®ã§ã€ &lt;code>'cespare/vim-toml'&lt;/code> ã‚’å…¥ã‚ŒãŸã€‚&lt;/p>
&lt;p>ä»¥ä¸Šã€‚&lt;/p>
&lt;p>ãªã‚“ã‹ã€vimèµ·å‹•å¾Œã«ENTERãŒå¿…è¦ã ã£ãŸã‚Šã€çµ‚äº†å¾Œã«ç”»é¢ãŒã‚¯ãƒªã‚¢ã•ã‚Œãªã‹ã£ãŸã‚Šã™ã‚‹ï¼ˆNeoBundleã®é ƒã¯ãã‚“ãªã“ã¨ã¯ãªã‹ã£ãŸï¼‰ãŒã€æ¦‚ã­å•é¡Œãªã•ãã†ã€‚&lt;/p>
&lt;p>ï¼ˆè¿½è¨˜ï¼‰å¼•ãç¶šãç¢ºèªã—ãŸã¨ã“ã‚ã€ &lt;code>'Align'&lt;/code> ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§è­¦å‘ŠãŒå‡ºã¦ã„ã‚‹ã“ã¨ã«æ°—ãŒã¤ã„ãŸã€‚ &lt;code>'vim-scripts/Align'&lt;/code> ã«ä¿®æ­£ã—ãŸã‚‰ä¸Šã®å•é¡Œã¯ãªããªã£ãŸã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/progrhyme/dotfiles/commit/df90a50ffca16629bb0dbcf31f6405e249cac763">ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2020-05-04</title><link>https://progrhy.me/tech-notes/a/memo/20200504/</link><pubDate>Mon, 04 May 2020 15:19:13 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20200504/</guid><description>
&lt;h2 id="54">5/4&lt;/h2>
&lt;h3 id="git-pull---pruneã—ã¦ãƒžãƒ¼ã‚¸æ¸ˆã¿ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ©ãƒ³ãƒã‚’æŽƒé™¤ã™ã‚‹gitã®ã‚µãƒ–ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½œã£ãŸ">git pull &amp;ndash;pruneã—ã¦ãƒžãƒ¼ã‚¸æ¸ˆã¿ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ©ãƒ³ãƒã‚’æŽƒé™¤ã™ã‚‹gitã®ã‚µãƒ–ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½œã£ãŸ&lt;/h3>
&lt;p>ä½•ç•ªç…Žã˜ã ã‚ˆã£ã¦æ„Ÿã˜ã ã‘ã©ã€ã„ã„åŠ æ¸›é¢å€’ã«ãªã£ãŸã®ã§ä½œã£ãŸã€‚&lt;/p>
&lt;p>ã‚³ãƒ¼ãƒ‰: &lt;a href="https://github.com/progrhyme/git-wraps/blob/5580b8cf19d62262392548a8fa66c737ae5c01c6/bin/git-branch-clean">git-wraps/bin/git-branch-clean&lt;/a>&lt;/p>
&lt;p>gitã®aliasã«ã‚‚è¨­å®šã—ãŸã‹ã£ãŸã®ã§ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã‚‚å¯¾å¿œã•ã›ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% git bc -h
NAME
git-branch-clean - git subcommand to clean up merged &lt;span style="color:#204a87">local&lt;/span> branches
SYNOPSYS
git branch-clean &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>OPTIONS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
DESCRIPTION
This is a git subcommand to clean up merged &lt;span style="color:#204a87">local&lt;/span> branches.
Branches &lt;span style="color:#4e9a06">&amp;#34;master&amp;#34;&lt;/span> and &lt;span style="color:#4e9a06">&amp;#34;develop&amp;#34;&lt;/span> are whitelisted by default. You can
change the whitelist by &lt;span style="color:#4e9a06">&amp;#34;-a|--allow BRANCH&amp;#34;&lt;/span> option.
Current branch is always whitelisted.
OPTIONS
-i Interactive mode. Show prompt before deleting branch.
-a&lt;span style="color:#000;font-weight:bold">|&lt;/span>--allow BRANCH
Add argument as branch name to whitelist which won&lt;span style="color:#a40000">&amp;#39;&lt;/span>t be deleted.
This option can be specified multiple times.
Ex&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># Whitelist = (develop, master, CURRENT)&lt;/span>
git branch-clean
&lt;span style="color:#8f5902;font-style:italic"># Whitelist = (foo, CURRENT)&lt;/span>
git branch-clean -a foo
&lt;span style="color:#8f5902;font-style:italic"># Whitelist = (test, master, CURRENT)&lt;/span>
git branch-clean -a &lt;span style="color:#204a87">test&lt;/span> -a master
-p&lt;span style="color:#000;font-weight:bold">|&lt;/span>--pull
Execute &lt;span style="color:#4e9a06">&amp;#34;git pull --prune&amp;#34;&lt;/span> before deleting branches.
-v&lt;span style="color:#000;font-weight:bold">|&lt;/span>--verbose
Verbose output.
-h&lt;span style="color:#000;font-weight:bold">|&lt;/span>--help
Show &lt;span style="color:#204a87">help&lt;/span> text.
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’PATHãŒé€šã£ã¦ã„ã‚‹å ´æ‰€ã«ç½®ãã€‚&lt;/p>
&lt;p>.gitconfigã®aliasã¯ã“ã‚“ãªæ„Ÿã˜:&lt;/p>
&lt;pre>&lt;code>[alias]
plr = pull --prune
bc = branch-clean --pull
bcp = branch-clean --pull
&lt;/code>&lt;/pre>&lt;p>&lt;code>git branch-clean&lt;/code> ã‹ &lt;code>git plr&lt;/code> ã‹ &lt;code>git bcp&lt;/code> ã‹ã€åˆ©ç”¨é »åº¦ã«ã‚ˆã£ã¦aliasã‚’èª¿æ•´ã™ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚ï¼ˆâ€»è¿½è¨˜ã‚ã‚Šï¼‰&lt;/p>
&lt;p>å‚è€ƒ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/kenshiroh/items/44dcf4b094e841bb42a2">gitã§branchã‚’ãŠæŽƒé™¤ã™ã‚‹éš›ã®ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/yuichielectric/items/84cd61915a1236f19221">ãƒªãƒ¢ãƒ¼ãƒˆã§æ¶ˆã•ã‚ŒãŸãƒ–ãƒ©ãƒ³ãƒãŒæ‰‹å…ƒã§æ®‹ã£ã¦ã—ã¾ã†ä»¶ã‚’è§£æ¶ˆã™ã‚‹ - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="59-è¿½è¨˜">5/9 è¿½è¨˜&lt;/h4>
&lt;p>&lt;code>git-branch-sweep&lt;/code> -&amp;gt; &lt;code>git-branch-clean&lt;/code> ã«ãƒªãƒãƒ¼ãƒ ã—ã¦ã€ä¸Šã‚’æ›¸ãæ›ãˆãŸã€‚&lt;br>
ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯3ã¤ç™»éŒ²ã—ãŸã€‚&lt;/p>
&lt;h3 id="ubuntuã§kubectxã‚’linuxbrewã§å…¥ã‚ŒãŸ">Ubuntuã§kubectxã‚’linuxbrewã§å…¥ã‚ŒãŸ&lt;/h3>
&lt;p>&lt;a href="https://github.com/ahmetb/kubectx">https://github.com/ahmetb/kubectx&lt;/a>&lt;/p>
&lt;p>READMEã«ã¯æ˜Žè¨˜ã•ã‚Œã¦ã¯ã„ãªã„ã®ã ã‘ã©ã€ &lt;code>brew install kubectx&lt;/code> ã§ãµã¤ã†ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¦ä½¿ãˆãŸã€‚&lt;br>
ã¾ã‚ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã ã—ãªã€‚&lt;/p>
&lt;h3 id="memo-ãƒšãƒ¼ã‚¸ã®éšŽå±¤ã‚’å¢—ã‚„ã—ãŸã‚‰hogoã®ã‚µã‚¤ãƒˆå†…ãƒšãƒ¼ã‚¸å‚ç…§ãŒå£Šã‚ŒãŸ">memo/ ãƒšãƒ¼ã‚¸ã®éšŽå±¤ã‚’å¢—ã‚„ã—ãŸã‚‰Hogoã®ã‚µã‚¤ãƒˆå†…ãƒšãƒ¼ã‚¸å‚ç…§ãŒå£Šã‚ŒãŸ&lt;/h3>
&lt;p>ä¸‹ã®å¤‰æ›´ã«ã‚ˆã‚‹:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/progrhyme/tech-notes/commit/325430dfd7d297186bc73aa2e53bf69e8da5a79c">[memo] Move some memos under 2020/ Â· progrhyme/tech-notes@325430d&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ä¾‹ãˆã°ã€20200502.mdå†…ã®ãƒªãƒ³ã‚¯ã‚’20200501ã¸ã®ãƒªãƒ³ã‚¯ã‚’ &lt;code>{{\&amp;lt; ref &amp;quot;/a/memo/20200501.md&amp;quot; \&amp;gt;}}&lt;/code> ã«æˆ»ã™ã¨ã€æ¬¡ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% hugo -v --path-warnings
INFO 2020/05/05 06:53:45 Using config file:
Building sites â€¦ INFO 2020/05/05 06:53:45 syncing static files to /home/progrhyme/my/repos/tech-notes/public/
INFO 2020/05/05 06:53:45 postcss: use config file /home/progrhyme/my/repos/tech-notes/themes/docsy/postcss.config.js
ERROR 2020/05/05 06:53:47 &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>ja&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> REF_NOT_FOUND: Ref &lt;span style="color:#4e9a06">&amp;#34;/a/memo/20200501.md&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;/home/progrhyme/my/repos/tech-notes/content/ja/a/memo/20200502.md:16:34&amp;#34;&lt;/span>: page not found
Total in &lt;span style="color:#0000cf;font-weight:bold">2470&lt;/span> ms
Error: Error building site: logged &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> error&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>s&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>A: 2020-05-03</title><link>https://progrhy.me/tech-notes/a/memo/20200503/</link><pubDate>Sun, 03 May 2020 12:11:38 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/20200503/</guid><description>
&lt;h2 id="53">5/3&lt;/h2>
&lt;h3 id="github-actionsã«ã¯ä»Šãƒ“ãƒ«ãƒ‰ã‚’æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã¯ãªã„ãŒåŒç­‰ã®ã“ã¨ã¯ã§ãã‚‹">GitHub Actionsã«ã¯ä»Šãƒ“ãƒ«ãƒ‰ã‚’æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã¯ãªã„ï¼ˆãŒã€åŒç­‰ã®ã“ã¨ã¯ã§ãã‚‹ï¼‰&lt;/h3>
&lt;p>Bitbucket Pipelinesã® &lt;code>trigger: manual&lt;/code> ã¿ãŸã„ãªæ©Ÿèƒ½ãŒãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹è¦‹ã¦ã‚‚ãªã•ãã†ã ãªã¨æ€ã£ã¦ã‚°ã‚°ã£ã¦ã¿ãŸã‚‰ã€ãªã•ãã†ã ã¨ã‚ã‹ã£ãŸã€‚&lt;/p>
&lt;p>ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå‡ºã¦ã„ã‚‹:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.community/t5/GitHub-Actions/GitHub-Actions-Manual-Trigger-Approvals/td-p/31504">GitHub Actions Manual Trigger / Approvals - GitHub Community Forum&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>æ“¬ä¼¼çš„ã«åŒç­‰ã®ã“ã¨ã¯ã§ãã‚‹ã€‚ä»¥ä¸‹ã€å‚è€ƒ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/proudust/items/51599abd2b107b708e1e">GitHub Actions ã§æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œã‚‹ - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://stackoverflow.com/questions/58933155/manual-workflow-triggers-in-github-actions">docker - Manual workflow triggers in Github Actions - Stack Overflow&lt;/a>
&lt;ul>
&lt;li>&lt;code>on.watch.types: [stared]&lt;/code> ã§starã‚’ãƒ•ãƒƒã‚¯ã«ã—ã¦ã„ã‚‹ä¾‹ãŒé¢ç™½ã„w&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="github-actionsã‚’ä½¿ã£ã¦terraformã§gcpæ§‹æˆã‚’cicdã™ã‚‹">GitHub Actionsã‚’ä½¿ã£ã¦Terraformã§GCPæ§‹æˆã‚’CI/CDã™ã‚‹&lt;/h3>
&lt;p>Qiitaã«æŠ•ç¨¿ã—ãŸã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/progrhyme/items/6bde1e1807a65c7e2cb2">GitHub Actionsã§GCPã«Terraformã§ã‚¤ãƒ³ãƒ•ãƒ©CI/CDã™ã‚‹ - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>å‚è€ƒ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/kentakozuka/items/e0d356df38f29ee7587e">Github Actions ã§ GCPã«å‘ã‘ã¦Terraform ã‚’å®Ÿè¡Œã™ã‚‹ - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="gitã«gpgã§ç½²åã—ã¦githubã«ç½²åã‚­ãƒ¼ã‚’ç™»éŒ²ã—ã¦ã¿ãŸ">Gitã«GPGã§ç½²åã—ã¦GitHubã«ç½²åã‚­ãƒ¼ã‚’ç™»éŒ²ã—ã¦ã¿ãŸ&lt;/h3>
&lt;p>ãã‚“ãªè¨­å®šãŒã‚ã£ãŸã‘ã©ã€é¢å€’ãªã ã‘ã§ç‰¹ã«æ„å‘³ã¯ãªã„ã®ã§ã¯ãªã„ã‹ã¨æ€ã£ã¦ã„ãŸã®ã§ã‚„ã£ã¦ãªã‹ã£ãŸã€‚&lt;br>
ã¾ã‚ã€ã§ã‚‚ãªã‚Šã™ã¾ã—ã‚’é˜²ãæ„å‘³ã§ã¯æœ‰æ„ç¾©ã‹ã€‚&lt;/p>
&lt;p>ä½œæ¥­ç’°å¢ƒã¯Ubuntu 18.04 LTS.&lt;/p>
&lt;p>GitHubã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://help.github.com/ja/github/authenticating-to-github/managing-commit-signature-verification">ã‚³ãƒŸãƒƒãƒˆç½²åã®æ¤œè¨¼ã‚’ç®¡ç†ã™ã‚‹ - GitHub ãƒ˜ãƒ«ãƒ—&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://help.github.com/ja/github/authenticating-to-github/checking-for-existing-gpg-keys">æ—¢å­˜ã® GPG ã‚­ãƒ¼ã®ç¢ºèª - GitHub ãƒ˜ãƒ«ãƒ—&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://help.github.com/ja/github/authenticating-to-github/generating-a-new-gpg-key">æ–°ã—ã„ GPG ã‚­ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ - GitHub ãƒ˜ãƒ«ãƒ—&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://help.github.com/ja/github/authenticating-to-github/adding-a-new-gpg-key-to-your-github-account">GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã®æ–°ã—ã„ GPG ã‚­ãƒ¼ã®è¿½åŠ  - GitHub ãƒ˜ãƒ«ãƒ—&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://help.github.com/ja/github/authenticating-to-github/telling-git-about-your-signing-key">Git ã¸ç½²åã‚­ãƒ¼ã‚’ä¼ãˆã‚‹ - GitHub ãƒ˜ãƒ«ãƒ—&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://help.github.com/ja/github/authenticating-to-github/signing-commits">ã‚³ãƒŸãƒƒãƒˆã«ç½²åã™ã‚‹ - GitHub ãƒ˜ãƒ«ãƒ—&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>æ—¢å­˜ã® GPG ã‚­ãƒ¼ã®ç¢ºèªã‚’æ¬¡ã®ã‚³ãƒžãƒ³ãƒ‰ã§:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% gpg --list-secret-keys --keyid-format LONG
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½•ã‚‚ãªã‹ã£ãŸã®ã§ã€æ–°ã—ã„ GPG ã‚­ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% gpg --version
gpg &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>GnuPG&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> 2.2.4
:
% gpg --full-generate-key
% gpg --list-secret-keys --keyid-format LONG
% gpg --armor --export XXXXXXXXXXXXXX
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Git ã¸ç½²åã‚­ãƒ¼ã‚’ä¼ãˆã‚‹&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% git config --global user.signingkey XXXXXXXXXXXXXX
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»¥é™ã€ &lt;code>git commit&lt;/code> ã« &lt;code>-S&lt;/code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã¨ã€ã‚³ãƒŸãƒƒãƒˆã«ç½²åãŒãªã•ã‚Œã‚‹ã€‚&lt;/p>
&lt;p>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒè¦æ±‚ã•ã‚Œã‚‹ãŒã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒžãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ä¿å­˜ã—ã¦ãŠãã¨ä»¥é™ã€èžã‹ã‚Œãªã„ã§æ¸ˆã‚€ã€‚&lt;/p>
&lt;p>å¸¸ã«ç½²åã—ãŸã„å ´åˆã€æ¬¡ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œ:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">% git config --global commit.gpgsign &lt;span style="color:#204a87">true&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§ç”Ÿæˆã—ã¦ã—ã¾ã£ãŸã®ã§ã€ã™ãã«æ‰“ã¦ãªãã¦å›°ã£ãŸã€‚&lt;br>
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚³ãƒžãƒ³ãƒ‰ã§:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">gpg --edit-key XXXXXXXXXXXXXX passwd
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸€å¿œ &lt;code>$HOME/.gnupg&lt;/code> ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ãŠã„ãŸã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/kent-hamaguchi/items/0e44f563caf39cd3eb9e">GitHubã«gpgç½²åä»˜ãã®ã‚³ãƒŸãƒƒãƒˆã‚’ã™ã‚‹ - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://joemphilips.com/post/gpg_memo/">GPGã§è‡ªåˆ†ç”¨ã®ç§˜å¯†éµã‚’1ã¤ã«çµ±ä¸€ã™ã‚‹ Â· JoeMPhilips&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: 2020 archive</title><link>https://progrhy.me/tech-notes/a/memo/2020/</link><pubDate>Wed, 01 Jan 2020 15:38:43 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/memo/2020/</guid><description/></item></channel></rss>