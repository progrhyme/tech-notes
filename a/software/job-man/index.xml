<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>progrhyme's Tech Notes – ジョブ管理システム</title><link>https://progrhy.me/tech-notes/a/software/job-man/</link><description>Recent content in ジョブ管理システム on progrhyme's Tech Notes</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sat, 11 Jul 2020 16:33:27 +0900</lastBuildDate><atom:link href="https://progrhy.me/tech-notes/a/software/job-man/index.xml" rel="self" type="application/rss+xml"/><item><title>A: cron</title><link>https://progrhy.me/tech-notes/a/software/job-man/cron/</link><pubDate>Sat, 11 Jul 2020 17:03:05 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/software/job-man/cron/</guid><description>
&lt;h2 id="about">About&lt;/h2>
&lt;p>UNIX系OSで古くから使われる常駐デーモンで、設定したスケジュールに従って、プログラムを定期実行するもの。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://e-words.jp/w/cron.html">cronとは - IT用語辞典 e-Words&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="spec">Spec&lt;/h2>
&lt;p>POSIXで規定されている。&lt;/p>
&lt;p>See &lt;a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html#tag_20_25_07">https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html#tag_20_25_07&lt;/a>&lt;/p>
&lt;h2 id="tools">Tools&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://crontab.guru/">https://crontab.guru/&lt;/a>
&lt;ul>
&lt;li>CRON構文チェッカー兼ジェネレーター&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="pitfalls">Pitfalls&lt;/h2>
&lt;p>cronあるあるなトラブル事例などについて。&lt;/p>
&lt;ul>
&lt;li>&lt;code>crontab -r&lt;/code> で消してしまう事案&lt;/li>
&lt;li>cronの書式を間違えて起動しない&lt;/li>
&lt;li>STDOUT, STDERR垂れ流しでログが出まくる&lt;/li>
&lt;li>ジョブの多重起動&lt;/li>
&lt;li>crontabを設定したマシンが死んでしまい、crontabの内容を復旧できない&lt;/li>
&lt;/ul></description></item><item><title>A: GNU make</title><link>https://progrhy.me/tech-notes/a/software/job-man/make/</link><pubDate>Mon, 04 May 2020 19:50:02 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/software/job-man/make/</guid><description>
&lt;h2 id="getting-started">Getting Started&lt;/h2>
&lt;p>公式リファレンスは↑&lt;/p>
&lt;p>サードパーティーのリファレンス的資料:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.ecoop.net/coop/translated/GNUMake3.77/make_toc.jp.html">GNU make 日本語訳(Coop編) - 目次&lt;/a> &amp;hellip; 1998年ぐらい。古い&lt;/li>
&lt;li>&lt;a href="http://qiita.com/chibi929/items/b8c5f36434d5d3fbfa4a">Makefileの関数 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="quickstart">Quickstart&lt;/h2>
&lt;p>使えるMakefileの例&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">.PHONY&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000">default&lt;/span> &lt;span style="color:#000">build&lt;/span> &lt;span style="color:#000">clean&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000">build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">clean&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> rm -rf dist/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">timestamp&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> date +%s &amp;gt; timestamp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">build&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000">timestamp&lt;/span> &lt;span style="color:#000">another&lt;/span>-&lt;span style="color:#000">file&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> some_build_command
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Tips:&lt;/p>
&lt;ul>
&lt;li>ターゲットの依存ターゲットは複数記すことができる。&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://objectclub.jp/community/memorial/homepage3.nifty.com/masarl/article/gnu-make/rule.html">- 自動化のためのGNU Make入門講座 - Makefileの基本：ルール&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="makefile-構文">Makefile 構文&lt;/h2>
&lt;h3 id="変数">変数&lt;/h3>
&lt;p>変数定義のやり方について。&lt;/p>
&lt;p>&amp;ldquo;=&amp;rdquo; と &amp;ldquo;:=&amp;rdquo; は違う。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">src&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> foo.c
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">ymd&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>shell date +%Y%m%d&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://quruli.ivory.ne.jp/document/make_3.79.1/make-jp_5.html" title="GNU make: 6. 変数の使用法">GNU make: 6. 変数の使用法&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="curdir">$(CURDIR)&lt;/h4>
&lt;p>makeを実行しているプロセスのカレントディレクトリを返す。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.gnu.org/software/make/manual/html_node/Recursion.html">https://www.gnu.org/software/make/manual/html_node/Recursion.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://d.hatena.ne.jp/m-hiyama/20080805/1217915354" title="今日のMake Tips：CURDIR変数 - 檜山正幸のキマイラ飼育記">今日のMake Tips：CURDIR変数 - 檜山正幸のキマイラ飼育記&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="関数">関数&lt;/h3>
&lt;h4 id="foreach-name-list-command">$(foreach name, LIST, command)&lt;/h4>
&lt;p>ループ実行&lt;/p>
&lt;h3 id="phonyターゲット">.PHONYターゲット&lt;/h3>
&lt;p>&lt;a href="https://www.gnu.org/software/make/manual/html_node/Phony-Targets.html">https://www.gnu.org/software/make/manual/html_node/Phony-Targets.html&lt;/a>&lt;/p>
&lt;p>ファイルを生成しないやつ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">.PHONY&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000">clean&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">clean&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> rm *.o tmp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>複数の.PHONYターゲットをまとめて記述することもできる&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">.PHONY&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000">all&lt;/span> &lt;span style="color:#000">clean&lt;/span> &lt;span style="color:#000">deps&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="条件分岐">条件分岐&lt;/h3>
&lt;p>&lt;a href="https://www.gnu.org/software/make/manual/make.html#Conditionals">7 Conditional Parts of Makefiles&lt;/a>&lt;/p>
&lt;p>Example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">libs_for_gcc&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> -lgnu
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">normal_libs&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">foo&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">objects&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">ifeq&lt;/span> &lt;span style="color:#a40000">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">CC&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>&lt;span style="color:#a40000">,gcc)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">CC&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span> &lt;span style="color:#a40000">-o&lt;/span> &lt;span style="color:#a40000">foo&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">objects&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">libs_for_gcc&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">CC&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span> &lt;span style="color:#a40000">-o&lt;/span> &lt;span style="color:#a40000">foo&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">objects&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">normal_libs&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">endif&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="-のエスケープ">&lt;code>$&lt;/code> のエスケープ&lt;/h3>
&lt;p>シェルの文脈で &lt;code>$&lt;/code> を使いたいときは &lt;code>$$&lt;/code> と記すことで実現できる。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">time&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">now&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">$$&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>date&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span> &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#000">$$&lt;/span>now
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://tmsanrinsha.net/post/2018/01/gnu-make/">GNU make - SanRin舎&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="makeコマンド">makeコマンド&lt;/h2>
&lt;p>公式マニュアル:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.gnu.org/software/make/manual/make.html#Running">9 How to Run make&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.gnu.org/software/make/manual/make.html#Overriding">9.5 Overriding Variables&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.gnu.org/software/make/manual/make.html#Options-Summary">9.7 Summary of Options&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>SYNOPSIS:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># デフォルトのタスク（＝最上部で定義されたタスク）を実行&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># タスク名を指定して実行。複数指定可&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make task1 &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>task2 ...&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Makefileを指定する&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make -f&lt;span style="color:#000;font-weight:bold">|&lt;/span>--file &amp;lt;Makefile&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># dry-run&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make -n&lt;span style="color:#000;font-weight:bold">|&lt;/span>--dry-run
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># 変数の設定&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Makefile内で定義されていれば、オーバーライドする&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make &lt;span style="color:#000">CFLAGS&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>-g
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>その他のオプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>`-j&lt;/td>
&lt;td>&amp;ndash;jobs[=N]`&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>`-e&lt;/td>
&lt;td>&amp;ndash;environment-overrides`&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-d&lt;/code>&lt;/td>
&lt;td>デバッグ情報を表示。 &lt;code>--debug=a&lt;/code> と同じ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>--trace&lt;/code>&lt;/td>
&lt;td>実行時のトレース情報を表示する&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>`-s&lt;/td>
&lt;td>&amp;ndash;silent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>`-h&lt;/td>
&lt;td>&amp;ndash;help`&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>`-v&lt;/td>
&lt;td>&amp;ndash;version`&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="tips">Tips&lt;/h2>
&lt;h3 id="必要なディレクトリを作ってタスク実行">必要なディレクトリを作ってタスク実行&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">BUILD_DIR&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> path/to/build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">$(BUILD_DIR)&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mkdir -p &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>BUILD_DIR&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">all&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>&lt;span style="color:#000">BUILD_DIR&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">cd&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>BUILD_DIR&lt;span style="color:#204a87;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> some_commands
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">.PHONY&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000">all&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="環境変数の取扱い">環境変数の取扱い&lt;/h3>
&lt;p>環境変数はMakeの変数として参照できる。例: &lt;code>$(CFLAGS)&lt;/code>&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/kojiohta/items/54b1a9f7d482c35dc4fa">GNU Make のふたつの変数の使い分け - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.ecoop.net/coop/translated/GNUMake3.77/make_6.jp.html">GNU make 日本語訳(Coop編) - 変数の利用法&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="how-to">How-to&lt;/h2>
&lt;h3 id="コマンドに引数を渡したい">コマンドに引数を渡したい&lt;/h3>
&lt;p>&lt;code>make CFAGS=-g&lt;/code> みたいに変数経由で渡すことになりそう。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/liubin/items/69d9faf804e82ddec376">Makefileにパラメータを渡す方法と条件文 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="cookbooks">Cookbooks&lt;/h2>
&lt;h3 id="カレントディレクトリを表示する幾つかの方法">カレントディレクトリを表示する幾つかの方法&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Makefile" data-lang="Makefile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">pwd&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">pwd&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>shell &lt;span style="color:#204a87">pwd&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>PWD&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#000">$$&lt;/span>PWD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>CURDIR&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>実行例:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">pwd&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">echo&lt;/span> /home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">echo&lt;/span> /home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#000">$PWD&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">echo&lt;/span> /home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/home/progrhyme/tmp/make
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="参考">参考&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="http://itchyny.hatenablog.com/entry/20120213/1329135107">Makefileで遊ぼう 〜 階乗, フィボナッチ数, Brainfuck処理系まで - プログラムモグモグ&lt;/a>
&lt;ul>
&lt;li>入門レベルで割とよく使う感じの機能がまとまってる。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>A: Jenkins</title><link>https://progrhy.me/tech-notes/a/software/job-man/jenkins/</link><pubDate>Thu, 28 May 2020 11:12:22 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/software/job-man/jenkins/</guid><description>
&lt;p>CI/CDなどの自動化ツール。&lt;br>
何でもできる英国紳士。&lt;/p>
&lt;h2 id="documentation">Documentation&lt;/h2>
&lt;p>&lt;a href="https://jenkins.io/doc/">https://jenkins.io/doc/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>Pipeline機能: &lt;a href="https://jenkins.io/doc/book/pipeline/">https://jenkins.io/doc/book/pipeline/&lt;/a>
&lt;ul>
&lt;li>Syntax: &lt;a href="https://jenkins.io/doc/book/pipeline/syntax/">https://jenkins.io/doc/book/pipeline/syntax/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="pipeline">Pipeline&lt;/h2>
&lt;ul>
&lt;li>Declarative Pipeline &amp;hellip; 比較的新しい。 &lt;code>pipeline { ... }&lt;/code> で定義する。&lt;/li>
&lt;li>Scripted Pipeline &amp;hellip; やや古い。 &lt;code>node { ... }&lt;/code> で定義する。&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://cocodrips.hateblo.jp/entry/2017/10/23/205801">Jenkinsのpipelineのスクリプトの書き方まとめ - ぴよぴよ.py&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="steps-reference">Steps Reference&lt;/h3>
&lt;p>&lt;a href="https://jenkins.io/doc/pipeline/steps/">https://jenkins.io/doc/pipeline/steps/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://jenkins.io/doc/pipeline/steps/workflow-durable-task-step/">Pipeline: Nodes and Processes&lt;/a>
&lt;ul>
&lt;li>&lt;code>sh&lt;/code> 等&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="basic-steps">Basic Steps&lt;/h4>
&lt;p>&lt;a href="https://jenkins.io/doc/pipeline/steps/workflow-basic-steps/">https://jenkins.io/doc/pipeline/steps/workflow-basic-steps/&lt;/a>&lt;/p>
&lt;h5 id="withenv">&lt;code>withEnv&lt;/code>&lt;/h5>
&lt;p>環境変数をセットしたブロックを作る。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-groovy" data-lang="groovy">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">node&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">withEnv&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">([&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;MYTOOL_HOME=/usr/local/mytool&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">])&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">sh&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;$MYTOOL_HOME/bin/start&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>withEnv(['PATH+WHATEVER=/something'])&lt;/code> のようにすることで、 &lt;code>/something&lt;/code> を &lt;code>$PATH&lt;/code> エントリの前に加えることができる。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://stackoverflow.com/questions/44378221/export-command-in-jenkins-pipeline/44380495#44380495">path - Export command in Jenkins pipeline - Stack Overflow&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="plugins">Plugins&lt;/h2>
&lt;h3 id="cloudbees-folders">CloudBees Folders&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://go.cloudbees.com/docs/cloudbees-documentation/cje-user-guide/index.html#folder">User Guide&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://plugins.jenkins.io/cloudbees-folder">https://plugins.jenkins.io/cloudbees-folder&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://wiki.jenkins.io/display/JENKINS/CloudBees+Folders+Plugin">https://wiki.jenkins.io/display/JENKINS/CloudBees+Folders+Plugin&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ジョブをフォルダという単位に整理することができる。&lt;br>
UI上はタブで表示される。&lt;/p>
&lt;h4 id="使い方">使い方&lt;/h4>
&lt;ul>
&lt;li>ジョブの編集(フォルダへの追加・削除)
&lt;ol>
&lt;li>タブをクリックすると &lt;code>/view/xxx&lt;/code> というパスに遷移する。&lt;/li>
&lt;li>左列メニューの「ビューの変更」(英語だと「Edit View」)をクリック&lt;/li>
&lt;li>ジョブをチェックボックスで選択し、「保存」&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://code.i-harness.com/ja/q/1b3d4ea" title="Jenkinsで既存のジョブを別のビューに移動するにはどうすればいいですか？ | CODE Q&amp;amp;A [日本語]">Jenkinsで既存のジョブを別のビューに移動するにはどうすればいいですか？ | CODE Q&amp;amp;A [日本語]&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: Spinnaker</title><link>https://progrhy.me/tech-notes/a/software/job-man/spinnaker/</link><pubDate>Tue, 05 May 2020 00:24:18 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/software/job-man/spinnaker/</guid><description>
&lt;h2 id="documentation">Documentation&lt;/h2>
&lt;p>公式サイト: &lt;a href="https://www.spinnaker.io/">https://www.spinnaker.io/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/">Set up Spinnaker&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/install/providers/">Cloud Providers&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/install/providers/docker-registry/">Docker Registry&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/install/providers/kubernetes-v2/">Kubernetes v2&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/install/providers/kubernetes-v2/gke/">GKE&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/guides/">Guides&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/guides/tutorials/">Tutorials&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/guides/tutorials/codelabs/">Codelabs&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/guides/tutorials/codelabs/safe-deployments/">Safe Deployments&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/reference/">Reference&lt;/a>
&lt;ul>
&lt;li>API &lt;a href="https://www.spinnaker.io/reference/api/docs.html">https://www.spinnaker.io/reference/api/docs.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="quickstart">Quickstart&lt;/h2>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/spinnaker/spinnaker.github.io/blob/master/downloads/kubernetes/quick-install.yml">https://github.com/spinnaker/spinnaker.github.io/blob/master/downloads/kubernetes/quick-install.yml&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="concepts">Concepts&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/concepts/">Overview&lt;/a>
&lt;ul>
&lt;li>Application management
&lt;ul>
&lt;li>:&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Application deployment
&lt;ul>
&lt;li>Pipeline&lt;/li>
&lt;li>Stage&lt;/li>
&lt;li>Deployment strategies&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="guides">Guides&lt;/h2>
&lt;p>&lt;a href="https://www.spinnaker.io/guides/">https://www.spinnaker.io/guides/&lt;/a>&lt;/p>
&lt;h3 id="kubernetes">Kubernetes&lt;/h3>
&lt;p>&lt;a href="https://www.spinnaker.io/guides/user/kubernetes-v2/">https://www.spinnaker.io/guides/user/kubernetes-v2/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/guides/user/kubernetes-v2/deploy-manifest/">Deploy Kubernetes Manifests&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/guides/user/kubernetes-v2/patch-manifest/">Patch Kubernetes Manifests&lt;/a>
&lt;ul>
&lt;li>K8sのmanifestをpatch更新できる。&lt;/li>
&lt;li>参考: &lt;a href="https://kubernetes.io/docs/tasks/run-application/update-api-object-kubectl-patch/">Update API Objects in Place Using kubectl patch - Kubernetes&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/guides/user/kubernetes-v2/rollout-strategies/">Rollout Strategies&lt;/a>
&lt;ul>
&lt;li>※ReplicaSetのみ有効 &lt;a href="https://www.spinnaker.io/guides/user/kubernetes-v2/traffic-management/#you-must-use-replica-sets">https://www.spinnaker.io/guides/user/kubernetes-v2/traffic-management/#you-must-use-replica-sets&lt;/a>&lt;/li>
&lt;li>Red/Black Rollouts&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://blog.spinnaker.io/introducing-rollout-strategies-in-the-kubernetes-v2-provider-8bbffea109a">Introducing Rollout Strategies in the Kubernetes V2 Provider&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>&lt;a href="https://www.spinnaker.io/reference/">https://www.spinnaker.io/reference/&lt;/a>&lt;/p>
&lt;h3 id="artifacts">Artifacts&lt;/h3>
&lt;p>&lt;a href="https://www.spinnaker.io/reference/artifacts/">https://www.spinnaker.io/reference/artifacts/&lt;/a>&lt;/p>
&lt;p>外部リソースを参照するオブジェクト。&lt;/p>
&lt;p>例:&lt;/p>
&lt;ul>
&lt;li>Dockerイメージ&lt;/li>
&lt;li>GCSやS3内のバイナリ&lt;/li>
&lt;/ul>
&lt;h4 id="artifacts-in-kubernetes-manifest-basedhttpswwwspinnakerioreferenceartifactsin-kubernetes-v2">&lt;a href="https://www.spinnaker.io/reference/artifacts/in-kubernetes-v2/">Artifacts In Kubernetes (Manifest Based)&lt;/a>&lt;/h4>
&lt;p>いくつかのリソースは &lt;code>vNNN&lt;/code> 形式でSpinnaker内でバージョンが振られる。&lt;/p>
&lt;h2 id="components">Components&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>component&lt;/th>
&lt;th>description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Clouddriver&lt;/td>
&lt;td>クラウドインフラとのやりとりを司る&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Deck&lt;/td>
&lt;td>Web UI&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Gate&lt;/td>
&lt;td>API Gateway&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Orca&lt;/td>
&lt;td>オーケストレーションエンジン&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/security/authentication/">Authentication - Spinnaker&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/productionize/scaling/horizontal-scaling/">Horizontally Scale Spinnaker Services - Spinnaker&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="spec">Spec&lt;/h2>
&lt;h3 id="authentication--認証">Authentication / 認証&lt;/h3>
&lt;p>&lt;a href="https://www.spinnaker.io/setup/security/authentication/">https://www.spinnaker.io/setup/security/authentication/&lt;/a>&lt;/p>
&lt;h4 id="google-cloud-iapによる認証">Google Cloud IAPによる認証&lt;/h4>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/reference/halyard/commands/#hal-config-security-authn-iap">https://www.spinnaker.io/reference/halyard/commands/#hal-config-security-authn-iap&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://medium.com/@damianmyerscough/spinnaker-authentication-with-cloud-iap-a7f12ebf18c0">Spinnaker Authentication with Cloud IAP - Damian Myerscough - Medium&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="authorization--認可">Authorization / 認可&lt;/h3>
&lt;ul>
&lt;li>Setup: &lt;a href="https://www.spinnaker.io/setup/security/authorization/">https://www.spinnaker.io/setup/security/authorization/&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/security/authorization/google-groups/">Google Groups via G Suite - Spinnaker&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Architecture: &lt;a href="https://www.spinnaker.io/reference/architecture/authz_authn/authorization/">https://www.spinnaker.io/reference/architecture/authz_authn/authorization/&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Automated Triggersによって起動するPipelineの場合、以下の2つの方法のいずれかで権限設定する:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/security/authorization/service-accounts/">Service Accounts - Spinnaker&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/security/authorization/pipeline-permissions/">Pipeline Permissions - Spinnaker&lt;/a> &amp;hellip; こっちは2020-01-08時点でまだαらしい&lt;/li>
&lt;/ul>
&lt;h4 id="service-account">Service Account&lt;/h4>
&lt;p>削除&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Bash" data-lang="Bash">&lt;span style="display:flex;">&lt;span>curl -X DELETE &lt;span style="color:#000">$FRONT50&lt;/span>/serviceAccounts/&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>サービスアカウントID&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考: &lt;a href="https://github.com/spinnaker/front50/blob/a25e184f6afd4dd63a8c8fdb63fe109b378f9991/front50-web/src/main/groovy/com/netflix/spinnaker/front50/controllers/ServiceAccountsController.groovy#L69">https://github.com/spinnaker/front50/blob/a25e184f6afd4dd63a8c8fdb63fe109b378f9991/front50-web/src/main/groovy/com/netflix/spinnaker/front50/controllers/ServiceAccountsController.groovy#L69&lt;/a>&lt;/p>
&lt;h3 id="ciツール連携">CIツール連携&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/ci/">https://www.spinnaker.io/setup/ci/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.spinnaker.io/reference/halyard/commands/#hal-config-ci">https://www.spinnaker.io/reference/halyard/commands/#hal-config-ci&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>2020-01-17現在、Concourse, Jenkins, Google Cloud Build, Travis CI, Werckerに対応しているようだ。&lt;/p>
&lt;h2 id="how-to">How-to&lt;/h2>
&lt;h3 id="kubernetesアカウントを追加する">Kubernetesアカウントを追加する&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://www.spinnaker.io/setup/install/providers/kubernetes-v2/#adding-an-account">https://www.spinnaker.io/setup/install/providers/kubernetes-v2/#adding-an-account&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/Yama-Tomo/items/73c2a7ccf60c22866a04">Spinnakerでデプロイ先のクラスタを追加する - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="ログレベルの変更">ログレベルの変更&lt;/h3>
&lt;p>&lt;code>~/.hal/default/service/settings/${component}.yml&lt;/code> に以下の内容を記述:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-YAML" data-lang="YAML">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">env&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">JAVA_OPTS&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;-Dlogging.level.com.netflix.${コンポーネント名}=DEBUG&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/spinnaker/spinnaker/issues/3388">Fiat Service Account causes NPE if the Service Account is not a user in LDAP · Issue #3388 · spinnaker/spinnaker&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://community.spinnaker.io/t/solved-how-to-change-spinnakers-services-logging-level/458">[SOLVED] How to change spinnaker&amp;rsquo;s services logging level? - Operations - Spinnaker&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="topics">Topics&lt;/h2>
&lt;h3 id="spinnaker-rollout-strategies-vs-k8s-rolling-update">Spinnaker Rollout Strategies vs K8s Rolling Update&lt;/h3>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://community.spinnaker.io/t/spinnaker-deployment-strategies-v-kubernetes-rolling-update/180">Spinnaker deployment strategies v. Kubernetes rolling update - Platforms - Spinnaker&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="gcp-gke">GCP (GKE)&lt;/h2>
&lt;p>Getting Started:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/GoogleCloudPlatform/spinnaker-for-gcp">https://github.com/GoogleCloudPlatform/spinnaker-for-gcp&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://cloud.google.com/docs/ci-cd/spinnaker/spinnaker-for-gcp">https://cloud.google.com/docs/ci-cd/spinnaker/spinnaker-for-gcp&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Advanced:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://cloud.google.com/solutions/managing-and-deploying-apps-to-multiple-gke-clusters-using-spinnaker?hl=ja">Spinnaker を使用したアプリの管理と複数の GKE クラスタへのデプロイ | ソリューション | Google Cloud&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/takasp/items/a74c8acdf3a8851b8da7">GKE で Spinnaker を構築する - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="child-pages">Child Pages&lt;/h2></description></item></channel></rss>