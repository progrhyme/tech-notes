<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>progrhyme's Tech Notes – Package Managers</title><link>https://progrhy.me/tech-notes/a/software/pkg-man/</link><description>Recent content in Package Managers on progrhyme's Tech Notes</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Mon, 04 May 2020 17:17:16 +0900</lastBuildDate><atom:link href="https://progrhy.me/tech-notes/a/software/pkg-man/index.xml" rel="self" type="application/rss+xml"/><item><title>A: dpkg</title><link>https://progrhy.me/tech-notes/a/software/pkg-man/dpkg/</link><pubDate>Mon, 04 May 2020 17:18:57 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/software/pkg-man/dpkg/</guid><description>
&lt;p>ハイレベルのインタフェースとして &lt;strong>apt&lt;/strong>, &lt;strong>apt-get&lt;/strong>, &lt;strong>aptitude&lt;/strong> がある。&lt;br>
昔からあるのがaptitudeで、最近あまり使われてない気がするが、2017年11月18日現在、これにしかない機能もあるそうだ。&lt;br>
aptは最先端のようだが、すべてaptで賄えるというわけではまだなさそう。&lt;/p>
&lt;p>dpkg &amp;lt;=&amp;gt; aptの関係は、RHEL系におけるrpm &amp;lt;=&amp;gt; yumの関係と似ている。&lt;/p>
&lt;p>つまり、dpkgは低レベルのインタフェースであり、aptは内部的にdpkgを使っている。&lt;br>
…というようなことが &lt;a href="http://www.tkd55.net/?p=816">Debian系のファイル管理コマンドもまとめてみた | tkd55&lt;/a> に書いてあった。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://sites.google.com/site/progrhymetechwiki/home/memo/2016/20160604#TOC-apt-">https://sites.google.com/site/progrhymetechwiki/home/memo/2016/20160604#TOC-apt-&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ドキュメント">ドキュメント&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://debian-handbook.info/browse/ja-JP/stable/">Debian 管理者ハンドブック&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://debian-handbook.info/browse/ja-JP/stable/sect.apt-get.html">6.2. aptitude、apt-get、apt コマンド&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://linux.die.net/man/1/dpkg">dpkg(1): package manager for Debian - Linux man page&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://ja.manpages.org/apt/8">man apt (8): コマンドラインインターフェイス&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://linux.die.net/man/8/apt-get">apt-get(8) - Linux man page&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://linux.die.net/man/8/aptitude">aptitude(8) - Linux man page&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="コマンド">コマンド&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージリストの更新&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージの更新&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">## 更新可能なパッケージの一覧&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt list --upgradable
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">## 最低限可能なアップグレードを行う&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt upgrade
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-get upgrade
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>aptitude safe-upgrade
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージの検索&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt search &lt;span style="color:#000">$QUERY&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-cache search &lt;span style="color:#000">$QUERY&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージの削除&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt remove &lt;span style="color:#000">$PACKAGE&lt;/span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-get remove &lt;span style="color:#000">$PACKAGE&lt;/span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">## 不要なパッケージを削除 ... 依存関係でインストールされたが、使われなくなったもの&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt autoremove
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># インストールされたパッケージの一覧&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dpkg -l
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージがインストールされているか調べる&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dpkg -l &lt;span style="color:#000">$PACKAGE&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dpkg-query -l &lt;span style="color:#000">$PACKAGE&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># インストールされたパッケージに含まれるファイルリストを表示&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dpkg-query -L &lt;span style="color:#000">$PACKAGE&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="インストール">インストール&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>apt install &lt;span style="color:#000">$PACKAGE&lt;/span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-get install &lt;span style="color:#000">$PACKAGE&lt;/span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># バージョン指定&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-get install &lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">PACKAGE&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">VERSION&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># .debパッケージファイルをインストール&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dpkg -i foo.deb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/isaoshimizu/items/e9c7fdc8efad66422cae">apt-getでversionを指定してインストールする方法 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="参考">参考&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="http://www.tkd55.net/?p=816">Debian系のファイル管理コマンドもまとめてみた | tkd55&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://d.hatena.ne.jp/bluerepliroid/20071205/1197288679">aptとdpkg - intrinsic feeling&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/SUZUKI_Masaya/items/1fd9489e631c78e5b007">aptコマンドチートシート - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://news.mynavi.jp/article/20100420-a053/">rpm、deb、depot、msiパッケージの展開と一覧表示コマンドまとめ | マイナビニュース&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: Homebrew</title><link>https://progrhy.me/tech-notes/a/software/pkg-man/brew/</link><pubDate>Mon, 04 May 2020 17:19:03 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/software/pkg-man/brew/</guid><description>
&lt;p>かねてからmacOSでユーザーランドで動くパッケージ管理ソフトとして開発者に親しまれてきたツールだが、2019年にLinuxにも正式に対応した。&lt;/p>
&lt;p>関連ページ:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/os/mac/">OS &amp;gt; macOS&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="getting-started">Getting Started&lt;/h2>
&lt;ul>
&lt;li>インストール &amp;hellip; &lt;a href="https://brew.sh/">https://brew.sh/&lt;/a> に従う&lt;/li>
&lt;/ul>
&lt;h2 id="macos">macOS&lt;/h2>
&lt;ul>
&lt;li>デフォルトで &lt;code>/usr/local&lt;/code> にインストールされる&lt;/li>
&lt;/ul>
&lt;h2 id="linux">Linux&lt;/h2>
&lt;p>&lt;a href="https://docs.brew.sh/Homebrew-on-Linux">https://docs.brew.sh/Homebrew-on-Linux&lt;/a>&lt;/p>
&lt;ul>
&lt;li>デフォルトで &lt;code>/home/linuxbrew/.linuxbrew&lt;/code> にインストールされる&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://tech-progrhyme.hatenablog.com/entry/2020/04/29/222302">UbuntuにHomebrewを入れてHomebrew Bundleでパッケージ管理することにした - progrhyme&amp;rsquo;s tech blog&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="documentation">Documentation&lt;/h2>
&lt;p>&lt;a href="https://docs.brew.sh/">https://docs.brew.sh/&lt;/a>&lt;/p>
&lt;h2 id="brewコマンド">brewコマンド&lt;/h2>
&lt;h3 id="create">create&lt;/h3>
&lt;p>Formulaの雛形を作成する。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>brew create &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Options&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> URL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># 例&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>brew create https://github.com/progrhyme/shelp/archive/v0.5.0.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">## カスタムのTapを指定し、Golang向けの雛形を作る&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>brew create --go --tap progrhyme/taps -v https://github.com/progrhyme/shelp/archive/v0.5.0.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>機能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-v, &amp;ndash;verbose&lt;/td>
&lt;td>冗長ログを表示&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="contribution">Contribution&lt;/h2>
&lt;p>ガイド:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.brew.sh/How-To-Open-a-Homebrew-Pull-Request">How To Open a Homebrew Pull Request — Homebrew Documentation&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>メモ:&lt;/p>
&lt;ul>
&lt;li>基本的には、ふつうにGitHubでforkして、featureブランチを作成してPull Requestを送る&lt;/li>
&lt;li>ローカルでHomebrewを展開したディレクトリが作業ツリーになる。そこで自分のforkしたリポジトリもremoteに追加する&lt;/li>
&lt;li>ローカルでtestを行ってからPRを送るべし&lt;/li>
&lt;/ul>
&lt;h3 id="formulaの作成更新">Formulaの作成・更新&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://docs.brew.sh/Formula-Cookbook">https://docs.brew.sh/Formula-Cookbook&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.brew.sh/Acceptable-Formulae">https://docs.brew.sh/Acceptable-Formulae&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/Homebrew/homebrew-core/blob/master/CONTRIBUTING.md">Homebrew/homebrew-core/CONTRIBUTING.md&lt;/a>&lt;/li>
&lt;li>RubyDoc &lt;a href="https://rubydoc.brew.sh/Formula">https://rubydoc.brew.sh/Formula&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>homebrew-coreに取り込まれるには、ある程度ツールのレピュテーションが必要らしい。参考記事参照。GitHubリポジトリの場合、 &lt;code>&amp;lt;20 forks, &amp;lt;20 watchers and &amp;lt;50 stars&lt;/code> だとNGだとか
&lt;ul>
&lt;li>そんなときはbrew tapを使う方式にすればいいっぽい&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/syhw/homebrew/blob/master/Library/Contributions/example-formula.rb">https://github.com/syhw/homebrew/blob/master/Library/Contributions/example-formula.rb&lt;/a> &amp;hellip; 最初に作るときに参考にしたのだが、実は非公式で、しかもだいぶ古い。2020-06-15現在は、公式にはこういう便利な雛形はなさそう（または、まだ私が見つけてない）&lt;/li>
&lt;li>&lt;a href="https://syossan.hateblo.jp/entry/2018/01/24/192104">自作ツールをHomebrewに登録したい人生だった - 生涯未熟&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote class="twitter-tweet">&lt;p lang="ja" dir="ltr">ユーザーがつくまではしばらく brew tap にしておくのがよさそうですね。&lt;/p>&amp;mdash; Kazuhiro Sera (瀬良) (@seratch_ja) &lt;a href="https://twitter.com/seratch_ja/status/1272188680526942208?ref_src=twsrc%5Etfw">June 14, 2020&lt;/a>&lt;/blockquote> &lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8">&lt;/script>
&lt;h3 id="formulaの書き方">Formulaの書き方&lt;/h3>
&lt;p>Tips:&lt;/p>
&lt;ul>
&lt;li>&lt;code>sha256&lt;/code> の値はLinuxだと &lt;code>sha256sum&lt;/code> コマンドで求められる
&lt;ul>
&lt;li>または、空欄にしておいて &lt;code>brew fetch --force&lt;/code> すると正しい値を表示してくれるそうだ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>bottle do ... end&lt;/code> ブロックは、botが自動で足してくれるらしい。&lt;/li>
&lt;/ul>
&lt;h3 id="linuxbrew">Linuxbrew&lt;/h3>
&lt;p>&lt;a href="https://github.com/Homebrew/linuxbrew-core/blob/master/CONTRIBUTING.md">https://github.com/Homebrew/linuxbrew-core/blob/master/CONTRIBUTING.md&lt;/a>&lt;/p>
&lt;p>2020-06-15現在、Linuxbrewは1日に1回はHomebrewをマージしてるから、Formulaの追加や更新はHomebrew側にした方がいいって書いてある。&lt;/p>
&lt;h2 id="tap">Tap&lt;/h2>
&lt;ul>
&lt;li>公式ドキュメント: &lt;a href="https://github.com/Homebrew/brew/blob/master/docs/Taps.md">https://github.com/Homebrew/brew/blob/master/docs/Taps.md&lt;/a>&lt;/li>
&lt;li>非公式和訳: &lt;a href="https://qiita.com/saa/items/85ed5e914d424fbf9fd6">brew tapとは - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>メモ:&lt;/p>
&lt;ul>
&lt;li>Third-Party Repositoriesのことだそうだ。&lt;/li>
&lt;li>非公式のツールをbrew管理にできる仕組み。&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://songmu.jp/riji/entry/2019-02-22-maltmill.html">Homebrewで自作ツールを簡単にインストール可能にする | おそらくはそれさえも平凡な日々&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/memo/2020/20200615/#maltmill%E3%82%92%E4%BD%BF%E3%81%84%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F%E3%81%8C%E5%8B%95%E3%81%8B%E3%81%AA%E3%81%8B%E3%81%A3%E3%81%9F">2020-06-15#maltmillを使いたかったが動かなかった&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ruby-api">Ruby API&lt;/h2>
&lt;p>&lt;a href="https://rubydoc.brew.sh/">https://rubydoc.brew.sh/&lt;/a>&lt;/p>
&lt;h3 id="formula">Formula&lt;/h3>
&lt;p>&lt;a href="https://rubydoc.brew.sh/Formula.html">https://rubydoc.brew.sh/Formula.html&lt;/a>&lt;/p>
&lt;h4 id="bininstall">bin.install&lt;/h4>
&lt;p>&lt;a href="https://docs.brew.sh/Formula-Cookbook#bininstall-foo">https://docs.brew.sh/Formula-Cookbook#bininstall-foo&lt;/a>&lt;/p>
&lt;p>任意のファイルを &lt;code>bin/&lt;/code> に移して、実行ビットを立てる（&lt;code>chmod 0555&lt;/code>）。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Ruby" data-lang="Ruby">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">install&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic"># fooをインストール&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">bin&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">install&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;foo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic"># bar.pyをbarにリネームしてインストール&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">bin&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">install&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;bar.py&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;bar&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="on_linux">.on_linux&lt;/h4>
&lt;p>&lt;a href="https://rubydoc.brew.sh/Formula.html#on_linux-class_method">https://rubydoc.brew.sh/Formula.html#on_linux-class_method&lt;/a>&lt;/p>
&lt;p>Linuxでのみ実行されるブロックを作る。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Ruby" data-lang="Ruby">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">on_linux&lt;/span> &lt;span style="color:#204a87;font-weight:bold">do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">depends_on&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;linux_only_dep&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="on_macos">.on_macos&lt;/h4>
&lt;p>macOSでのみ実行されるブロックを作る。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Ruby" data-lang="Ruby">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">on_macos&lt;/span> &lt;span style="color:#204a87;font-weight:bold">do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">depends_on&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;mac_only_dep&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="version">.version&lt;/h4>
&lt;p>&lt;a href="https://rubydoc.brew.sh/Formula#version-class_method">https://rubydoc.brew.sh/Formula#version-class_method&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Ruby" data-lang="Ruby">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">version&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">val&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#a40000">⇒&lt;/span> &lt;span style="color:#000">Object&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>基本はURLからautodetectしてくれるので、それが上手く行かないときに指定するそうだ。&lt;/p>
&lt;h3 id="os">OS&lt;/h3>
&lt;p>&lt;a href="https://rubydoc.brew.sh/OS.html">https://rubydoc.brew.sh/OS.html&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Ruby" data-lang="Ruby">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">OS&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">mac?&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic"># for macOS installation&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">elsif&lt;/span> &lt;span style="color:#000">OS&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">linux?&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic"># for Linuxbrew installation&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="homebrew-bundle">Homebrew Bundle&lt;/h2>
&lt;p>&lt;a href="https://github.com/Homebrew/homebrew-bundle">https://github.com/Homebrew/homebrew-bundle&lt;/a>&lt;/p>
&lt;p>Rubyのbundlerのように、brewでインストールするパッケージをBrewfileという構成ファイルにまとめる。&lt;/p>
&lt;p>オプションなしで実行した場合、カレントディレクトリの &lt;code>Brewfile&lt;/code> を参照する。&lt;/p>
&lt;p>SYNOPSIS:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Brewfileに基づいてパッケージインストール&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>brew bundle &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>install&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>OPTIONS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Brewfileに入ってないパッケージを削除する&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>brew bundle cleanup &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>--force&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>OPTIONS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># インストールされているパッケージリストをBrewfileに書き出す&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>brew bundle dump &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>OPTIONS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>オプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>--global&lt;/code>&lt;/td>
&lt;td>&lt;code>~/.Brewfile&lt;/code> を見に行く&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>--file &amp;lt;File&amp;gt;&lt;/code>&lt;/td>
&lt;td>Brewfileを指定する&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kiririmode.hatenablog.jp/entry/20200103/1578033722">Macでのアプリケーションインストールの自動化 - 理系学生日記&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="brewfile">Brewfile&lt;/h3>
&lt;p>Example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Ruby" data-lang="Ruby">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">tap&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;homebrew/bundle&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">tap&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;homebrew/core&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># macOSでcaskを使う&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">tap&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;homebrew/cask&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">cask_args&lt;/span> &lt;span style="color:#4e9a06">appdir&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;/Applications&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">cask&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;google-chrome&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;bash&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;zsh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;git&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;vim&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;tmux&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;direnv&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;jq&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;the_silver_searcher&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">brew&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;coreutils&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>RubyのDSLなので普通に &lt;code># ...&lt;/code> でコメントが書けるらしい
&lt;ul>
&lt;li>&lt;a href="https://github.com/Homebrew/homebrew-bundle/issues/146">Allow comments in Brewfile · Issue #146 · Homebrew/homebrew-bundle&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>A: Snap</title><link>https://progrhy.me/tech-notes/a/software/pkg-man/snap/</link><pubDate>Sun, 31 May 2020 10:18:26 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/software/pkg-man/snap/</guid><description>
&lt;h2 id="about">About&lt;/h2>
&lt;p>Ubuntuの開発元であるCanonical社が作った、Linux向けのパッケージマネージャー。
ディストリビューションに依存しない。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://en.wikipedia.org/wiki/Snap_(package_manager)">https://en.wikipedia.org/wiki/Snap_(package_manager)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ja.wikipedia.org/wiki/Snappy">https://ja.wikipedia.org/wiki/Snappy&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="snapコマンド">snapコマンド&lt;/h2>
&lt;p>&lt;a href="http://manpages.ubuntu.com/manpages/bionic/man1/snap.1.html">Ubuntu Manpage: snap - Tool to interact with snaps&lt;/a>&lt;/p>
&lt;p>ガイド:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://snapcraft.io/docs/getting-started">Getting started | Snapcraft documentation&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># インストール&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo snap install &lt;span style="color:#000">$pkg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo snap install --channel&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">$channel&lt;/span> &lt;span style="color:#000">$pkg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># インストールされたパッケージ一覧&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>snap list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># アンインストール&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo snap remove &lt;span style="color:#000">$pkg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージを探す&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>snap find &lt;span style="color:#4e9a06">&amp;#34;&amp;lt;package name&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージの情報（channel等）を確認&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>snap info &lt;span style="color:#000">$pkg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">## 利用できるリビジョンを一覧&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>snap list --all &lt;span style="color:#000">$pkg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># パッケージの更新&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo snap refresh &lt;span style="color:#000">$pkg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">## channel変更も可能&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo snap refresh --channel&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">$channel&lt;/span> &lt;span style="color:#000">$pkg&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># バージョン表示&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>snap version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="snapcraft">Snapcraft&lt;/h2>
&lt;p>Wikipediaによればビルドツールらしいが、レジストリの役割もあるのかな。&lt;br>
ストアもある。 &lt;a href="https://snapcraft.io/store">https://snapcraft.io/store&lt;/a>&lt;/p>
&lt;h2 id="topics">Topics&lt;/h2>
&lt;h3 id="snap-or-snappy">Snap or Snappy?&lt;/h3>
&lt;p>元々は「Snappy」という名前だったっぽくて、2020-05-31現在でも「Snappy」という記述がそこかしこで見られる。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>2018-04-11のQA &lt;a href="https://forum.snapcraft.io/t/snap-or-snappy/4944">Snap or Snappy? - other - snapcraft.io&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>