<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>progrhyme's Tech Notes – CommandLine Interface</title><link>https://progrhy.me/tech-notes/a/cli/</link><description>Recent content in CommandLine Interface on progrhyme's Tech Notes</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Mon, 27 Apr 2020 19:34:20 +0900</lastBuildDate><atom:link href="https://progrhy.me/tech-notes/a/cli/index.xml" rel="self" type="application/rss+xml"/><item><title>A: dotfiles</title><link>https://progrhy.me/tech-notes/a/cli/dotfiles/</link><pubDate>Sun, 31 May 2020 21:52:18 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/dotfiles/</guid><description>
&lt;p>dotfilesは、主にコンピュータ上で、ユーザーの$HOMEディレクトリ下に置かれる &lt;code>.&lt;/code> で始まるファイル類を表す。&lt;/p>
&lt;h2 id="サイト">サイト&lt;/h2>
&lt;p>&lt;a href="https://dotfiles.github.io/">https://dotfiles.github.io/&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>Your unofficial guide to dotfiles on GitHub.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;a href="https://dotfiles.github.io/utilities/">https://dotfiles.github.io/utilities/&lt;/a> &amp;hellip; dotfilesの管理ツールがたくさん紹介されている。&lt;/li>
&lt;/ul>
&lt;h2 id="まとめページ">まとめページ&lt;/h2>
&lt;p>&lt;a href="https://github.com/webpro/awesome-dotfiles">https://github.com/webpro/awesome-dotfiles&lt;/a>&lt;/p>
&lt;p>dotfiles.github.io と同様だが、各種ツールなどが紹介されている。&lt;/p>
&lt;h2 id="tools">Tools&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/ubnt-intrepid/dot">ubnt-intrepid/dot: Yet another management tool for dotfiles&lt;/a> &amp;hellip; Rust製&lt;/li>
&lt;li>&lt;a href="https://github.com/rhysd/dotfiles">rhysd/dotfiles: dotfiles symbolic links management CLI&lt;/a> &amp;hellip; Golang製&lt;/li>
&lt;li>&lt;a href="https://github.com/FooSoft/homemaker">FooSoft/homemaker: Efficiently manage your dot-file configuration settings.&lt;/a> &amp;hellip; Golang製&lt;/li>
&lt;/ul>
&lt;h3 id="jaagrdots">jaagr/dots&lt;/h3>
&lt;p>&lt;a href="https://github.com/jaagr/dots">https://github.com/jaagr/dots&lt;/a>&lt;/p>
&lt;p>&lt;code>alias dots='git --git-dir=$HOME/.dots.git/ --work-tree=$HOME'&lt;/code> これだけでやってる。&lt;br>
&lt;code>git&lt;/code> コマンドしか使わない。&lt;br>
賢い。&lt;/p></description></item><item><title>A: jq</title><link>https://progrhy.me/tech-notes/a/cli/jq/</link><pubDate>Thu, 07 May 2020 11:44:41 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/jq/</guid><description>
&lt;p>JSONにクエリしてフィルタできるCLIツール。&lt;/p>
&lt;h2 id="documents">Documents&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://stedolan.github.io/jq/tutorial/">https://stedolan.github.io/jq/tutorial/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://stedolan.github.io/jq/manual/">https://stedolan.github.io/jq/manual/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="チートシート">チートシート&lt;/h2>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># オブジェクトの特定キーの要素を抽出&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.some_key&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の特定要素を抽出&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[0]&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の個々のオブジェクトの特定キーを抽出&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | .some_key&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の個々のオブジェクトからいくつかの要素を選んでそれぞれ配列に格納&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | [.keyA, .keyB, .keyC.keyAinC]&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># CSV形式で出力&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | [.keyA, .keyB, .keyC] | @csv&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の個々のオブジェクトからいくつかの要素を選んで新たなオブジェクトを作り、それぞれ出力&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | {a: .keyA, b: .keyB, ca: .keyC.keyAinC}&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.qoosky.io/techs/1ee07c140f">jq チートシート - Qoosky&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://medium.com/veltra-engineering/jq-supports-json-to-csv-fb5c951a9575">jq コマンドで JSON を CSV に変換する - VELTRA Engineering - Medium&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: UNIX系コマンド</title><link>https://progrhy.me/tech-notes/a/cli/unix-cmd/</link><pubDate>Mon, 27 Apr 2020 19:37:41 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/unix-cmd/</guid><description>
&lt;p>筆者はLinuxかmacOSを使うことが多い。&lt;/p>
&lt;h2 id="about">About&lt;/h2>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://en.wikipedia.org/wiki/List_of_Unix_commands">List of Unix commands - Wikipedia&lt;/a> &amp;hellip; IEEE規格らしい&lt;/li>
&lt;/ul>
&lt;h3 id="関連ページ">関連ページ&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/os/mac/#gnu%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86">macOS#GNUコマンドを使う&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="リファレンス">リファレンス&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://ss64.com/">SS64 Command line reference&lt;/a> &amp;hellip; Linux, macOS etc.&lt;/li>
&lt;/ul>
&lt;h2 id="日付時刻時間">日付・時刻・時間&lt;/h2>
&lt;h3 id="date">date&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/GNU_coreutils/man1/date.1.html">https://linuxjm.osdn.jp/html/GNU_coreutils/man1/date.1.html&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 書式指定&lt;/span>
date +%Y%m%d &lt;span style="color:#8f5902;font-style:italic"># YYYYMMDD&lt;/span>
date +%FT%T &lt;span style="color:#8f5902;font-style:italic"># ISO8601風&lt;/span>
date +%s &lt;span style="color:#8f5902;font-style:italic"># unixtime&lt;/span>
date +%s.%N &lt;span style="color:#8f5902;font-style:italic"># ナノ秒まで取得&lt;/span>
date +%s.%3N &lt;span style="color:#8f5902;font-style:italic"># ミリ秒まで取得&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 日時指定/相対&lt;/span>
date -d tomorrow &lt;span style="color:#8f5902;font-style:italic"># 明日&lt;/span>
date -d &lt;span style="color:#4e9a06">&amp;#39;1 hour&amp;#39;&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># 1時間後&lt;/span>
date -d &lt;span style="color:#4e9a06">&amp;#39;1 days ago&amp;#39;&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># 昨日&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 日時指定/絶対&lt;/span>
date -d @1530675922 &lt;span style="color:#8f5902;font-style:italic"># unixtime&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># ファイルのタイムスタンプを取得&lt;/span>
date -r FILE
&lt;span style="color:#8f5902;font-style:italic">## unixtime形式で取得&lt;/span>
date +%s -r FILE
&lt;/code>&lt;/pre>&lt;/div>&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>Mac だと &lt;code>-d '〜'&lt;/code> オプションが使えない&lt;/li>
&lt;li>&lt;code>%N&lt;/code> はGNU拡張らしい&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://shellscript.sunone.me/date.html" title="日付を取得する | UNIX &amp;amp; Linux コマンド・シェルスクリプト リファレンス">日付を取得する | UNIX &amp;amp; Linux コマンド・シェルスクリプト リファレンス&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hydrocul.github.io/wiki/commands/date.html">date コマンド | コマンドの使い方(Linux) | hydroculのメモ&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/niwasawa/items/9502e97b6c4d28d24042">date コマンドで日時のミリ秒単位まで表示する - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ex1.m-yabe.com/archives/4311">dateコマンドで、ファイルのタイムスタンプを取得 | ex1-lab&lt;/a>&lt;/li>
&lt;li>macOS:
&lt;ul>
&lt;li>&lt;a href="https://www.unix.com/man-page/osx/1/date/">date(1) [osx man page]&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ファイル操作">ファイル操作&lt;/h2>
&lt;h3 id="find">find&lt;/h3>
&lt;p>ファイルやディレクトリを検索する。&lt;br>
&lt;code>-exec&lt;/code> オプションで見つけたファイルに対してコマンド実行することもできる。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># path以下のファイル、ディレクトリを全てリストアップ&lt;/span>
find &amp;lt;path&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># ファイルのみリストアップ&lt;/span>
find &amp;lt;path&amp;gt; -type f
&lt;span style="color:#8f5902;font-style:italic"># 3日以内に更新されたファイルを探す&lt;/span>
find &amp;lt;path&amp;gt; -mtime -mtime -3
&lt;span style="color:#8f5902;font-style:italic"># 3日以上前のファイルを探して全て削除&lt;/span>
find &amp;lt;path&amp;gt; -type f -mtime +3 -exec rm -f &lt;span style="color:#ce5c00;font-weight:bold">{}&lt;/span> &lt;span style="color:#4e9a06">\;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>時間指定オプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-mmin&lt;/td>
&lt;td>ファイルのデータが最後に修正された日時（分指定）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-mtime&lt;/td>
&lt;td>ファイルのデータが最後に修正された日時（日指定）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-amin&lt;/td>
&lt;td>ファイルのデータに最後にアクセスされた日時（分指定）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-atime&lt;/td>
&lt;td>ファイルのデータに最後にアクセスされた日時（日指定）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-cmin&lt;/td>
&lt;td>ファイルのデータとステータスが最後に修正された日時（分指定）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-ctime&lt;/td>
&lt;td>ファイルのデータとステータスが最後に修正された日時（日指定）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://curecode.jp/tech/find-mtime-delete/">find で日数が過ぎたファイルを検索・削除する | キュア子の開発ブログ&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/narumi_/items/9ea27362a1eb502e2dbc">findコマンドのmtimeオプションまとめ - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="mktemp">mktemp&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/GNU_coreutils/man1/mktemp.1.html">Man page of MKTEMP&lt;/a>&lt;/p>
&lt;p>一時ファイル、またはディレクトリを作成する。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">mktemp
&lt;span style="color:#8f5902;font-style:italic"># ディレクトリを作成&lt;/span>
mktemp -d
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://ss64.com/osx/mktemp.html">mktemp Man Page - macOS - SS64.com&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="readlink1">readlink(1)&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/GNU_coreutils/man1/readlink.1.html">Man page of READLINK&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># シンボリックリンクのリンク先を返す。再帰的に探索はしない&lt;/span>
readlink &amp;lt;link&amp;gt;
&lt;span style="color:#8f5902;font-style:italic"># realpathと同じ働きをする&lt;/span>
readlink -f &amp;lt;file&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="realpath1">realpath(1)&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/GNU_coreutils/man1/realpath.1.html">Man page of REALPATH&lt;/a>&lt;/p>
&lt;p>引数として与えられたファイル or ディレクトリの絶対パスを返す。
シンボリックリンクであれば、リンク先を再帰的に解決する。&lt;/p>
&lt;h3 id="tee">tee&lt;/h3>
&lt;p>標準出力に書きつつファイルにも書く、ということをやりたいときに使う。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">./a.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> tee a.log
./a.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> tee -a a.log &lt;span style="color:#8f5902;font-style:italic"># 追記&lt;/span>
./a.sh 2&amp;gt;&lt;span style="color:#000;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> tee a.log &lt;span style="color:#8f5902;font-style:italic"># 標準エラーもファイルに書く&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/wnoguchi/items/2fc3ec11043d139dc6bb" title="teeコマンドの使い方 - Qiita">teeコマンドの使い方 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="touch">touch&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/gnumaniak/man1/touch.1.html">Man page of TOUCH&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">touch -t &lt;span style="color:#0000cf;font-weight:bold">201807040100&lt;/span> path/to/file &lt;span style="color:#8f5902;font-style:italic"># mtimeを2018/7/4 01:00に変更&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>GNUオプション: ※macOSでは使えない&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>効果&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>--[d]ate=日時&lt;/code>&lt;/td>
&lt;td>日時を指定する際に、 &lt;code>-t&lt;/code> オプションの代わりに使える。dateコマンドの書式で日時を渡せるようだ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/ait/articles/1606/14/news013.html">【 touch 】コマンド――タイムスタンプを変更する／新規ファイルを作成する：Linux基本コマンドTips（23） - ＠IT&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="アーカイブ">アーカイブ&lt;/h2>
&lt;h3 id="zipunzip">zip/unzip&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic">## dir/ を再帰的に圧縮&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## 展開すると dir/ も出来る&lt;/span>
zip -r foo.zip dir/
&lt;span style="color:#8f5902;font-style:italic">## 中身を bar/ に展開&lt;/span>
unzip foo.zip -d bar/
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://itpro.nikkeibp.co.jp/article/COLUMN/20060228/231001/?rt=nocnt" title="Linuxコマンド集 - 【 zip 】 ファイルを圧縮する（拡張子.zip）：ITpro">Linuxコマンド集 - 【 zip 】 ファイルを圧縮する（拡張子.zip）：ITpro&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/ait/articles/1607/26/news014.html" title="Linux基本コマンドTips（35）：unzipコマンド――ZIPファイルからファイルを取り出す - ＠IT">Linux基本コマンドTips（35）：unzipコマンド――ZIPファイルからファイルを取り出す - ＠IT&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="テキスト処理">テキスト処理&lt;/h2>
&lt;h3 id="grep">grep&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic">## ファイル名だけ表示&lt;/span>
grep -l PATTERN &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>PATH&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="head">head&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/GNU_textutils/man1/head.1.html">https://linuxjm.osdn.jp/html/GNU_textutils/man1/head.1.html&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic">## 先頭1行を表示&lt;/span>
head -1 &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>file...&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## 先頭20行を表示&lt;/span>
head -n &lt;span style="color:#0000cf;font-weight:bold">20&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>file...&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## 先頭256Bを表示&lt;/span>
head -c &lt;span style="color:#0000cf;font-weight:bold">256&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>file...&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## 先頭256KBを表示&lt;/span>
head --bytes 256k &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>file...&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="printf1">printf(1)&lt;/h3>
&lt;p>書式を指定して文字列を標準出力に出力。&lt;/p>
&lt;p>シェルのビルトイン関数と /usr/bin/printf がある。
違いはよくわからない。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#204a87">printf&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;%s %02d&amp;#34;&lt;/span> foo &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#=&amp;gt; foo 01&lt;/span>
env &lt;span style="color:#000">LANG&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>ja_JP.UTF-8 &lt;span style="color:#204a87">printf&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;%&amp;#39;d&amp;#34;&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1234567890&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#=&amp;gt; 1,234,567,890&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.atmarkit.co.jp/ait/articles/1907/05/news012.html">【 printf 】コマンド――データを整形して表示する：Linux基本コマンドTips（319） - ＠IT&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://blog.cles.jp/item/5819">シェルスクリプトで数字を３桁ごとのカンマ区切りにする&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="sed">sed&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/GNU_sed/man1/sed.1.html">https://linuxjm.osdn.jp/html/GNU_sed/man1/sed.1.html&lt;/a>&lt;/p>
&lt;p>与えられたテキストに対して、sedスクリプトで指定された文字列置換を行って結果のテキストを表示するストリームエディタ。&lt;/p>
&lt;p>macOSとLinuxで挙動が違うので、注意が必要。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 各行のxを1つyに置換した結果を表示&lt;/span>
sed s/x/y/ foo.txt
&lt;span style="color:#8f5902;font-style:italic"># 各行のxをすべてyに置換した結果を表示&lt;/span>
sed -e s/x/y/g foo.txt
&lt;span style="color:#8f5902;font-style:italic"># 全文字をすべてyに置換した結果を表示&lt;/span>
cat foo.txt &lt;span style="color:#000;font-weight:bold">|&lt;/span> sed &lt;span style="color:#4e9a06">&amp;#39;s/./y/g&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># xをyに、aをbに置換&lt;/span>
sed -e s/x/y/ -e s/a/b/ foo.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>効果&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&amp;ndash;[e]xpression=SCRIPT&lt;/td>
&lt;td>実行するコマンドとしてスクリプトを追加&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&amp;ndash;[f]ile=FILE&lt;/td>
&lt;td>実行するコマンドとしてスクリプトファイルを追加&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&amp;ndash;[r]egexp-extended&lt;/td>
&lt;td>（※Linux）拡張正規表現を使う&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-E&lt;/td>
&lt;td>（※macOS）拡張正規表現を使う&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>※ &lt;code>-e&lt;/code>, &lt;code>-f&lt;/code> のどちらの指定もなければ、最初のオプションでない引数がsedスクリプトとして解釈される。&lt;/p>
&lt;h3 id="sort">sort&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic">## 第2フィールドで数値の降順ソート&lt;/span>
cat file &lt;span style="color:#000;font-weight:bold">|&lt;/span> sort -nr -k2
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://linuxjm.osdn.jp/html/gnumaniak/man1/sort.1.html">https://linuxjm.osdn.jp/html/gnumaniak/man1/sort.1.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hydrocul.github.io/wiki/commands/sort.html" title="sort コマンド | コマンドの使い方(Linux) | hydroculのメモ">sort コマンド | コマンドの使い方(Linux) | hydroculのメモ&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ファイルシステム">ファイルシステム&lt;/h2>
&lt;h3 id="exportfs">exportfs&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">exportfs -a &lt;span style="color:#8f5902;font-style:italic"># /etc/exports の全てのディレクトリをエクスポート&lt;/span>
exportfs -v &lt;span style="color:#8f5902;font-style:italic"># 現在エクスポート中のディレクトリ一覧&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.ibm.com/support/knowledgecenter/ja/ssw_aix_71/com.ibm.aix.cmds2/exportfs.htm">exportfs コマンド&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="mount">mount&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic">## uid, gid指定&lt;/span>
mount -o &lt;span style="color:#000">uid&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>1000,gid&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1000&lt;/span> /dev/sdb1 /mnt
&lt;/code>&lt;/pre>&lt;/div>&lt;p>※NFSの場合、uid/gid指定は不可&lt;/p>
&lt;p>See also:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://sites.google.com/site/progrhymetechwiki/linux/fs">https://sites.google.com/site/progrhymetechwiki/linux/fs&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/ait/articles/1802/15/news035.html">【 mount 】コマンド――ファイルシステムをマウントする：Linux基本コマンドTips（183） - ＠IT&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/fwin2k/productreview/sfu35-01/sfu35_01_03.html">製品レビュー：企業ユーザーのためのSFU 3.5活用ガイダンス　第1回　SFU 3.5の概要とNFS機能　2．NFSとユーザー名マッピング - ＠IT&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="umount">umount&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">umount &amp;lt;mount先&amp;gt;
umount &amp;lt;mount元&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ユーザ管理">ユーザ管理&lt;/h2>
&lt;h3 id="getent">getent&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">getent group &amp;lt;group&amp;gt; &lt;span style="color:#8f5902;font-style:italic"># グループに属しているユーザをリスト&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/niiyz/items/53aa4195dcc69db2052b">Linuxコマンドでユーザーのグループ確認・変更。 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="gpasswd">gpasswd&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">gpasswd -a &amp;lt;login&amp;gt; &amp;lt;group&amp;gt; &lt;span style="color:#8f5902;font-style:italic"># ユーザをグループに所属させる&lt;/span>
gpasswd -d &amp;lt;login&amp;gt; &amp;lt;group&amp;gt; &lt;span style="color:#8f5902;font-style:italic"># ユーザをグループから削除&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/ait/articles/1612/12/news016.html" title="【 gpasswd 】コマンド――ユーザーが所属するグループを管理する：Linux基本コマンドTips（72） - ＠IT">【 gpasswd 】コマンド――ユーザーが所属するグループを管理する：Linux基本コマンドTips（72） - ＠IT&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="groupadd">groupadd&lt;/h3>
&lt;p>グループ作成。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">groupadd newgroup
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://webkaru.net/linux/groupadd-command/" title="Linuxコマンド【 groupadd 】新規グループの作成 - Linux入門 - Webkaru">Linuxコマンド【 groupadd 】新規グループの作成 - Linux入門 - Webkaru&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="passwd">passwd&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">passwd -l &amp;lt;login&amp;gt; &lt;span style="color:#8f5902;font-style:italic"># アカウントをロック&lt;/span>
passwd -u &amp;lt;login&amp;gt; &lt;span style="color:#8f5902;font-style:italic"># アンロック&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ロックされたアカウントはログインできず、利用不可になる。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://kazmax.zpp.jp/linux/account_lock.html" title="Linux ユーザーアカウントをロック・アンロックする">Linux ユーザーアカウントをロック・アンロックする&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="useradd">useradd&lt;/h3>
&lt;p>ユーザ追加。オプション多数&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-m&lt;/code>&lt;/td>
&lt;td>ホームディレクトリ作成&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-s &amp;lt;SHELL&amp;gt;&lt;/code>&lt;/td>
&lt;td>ログインシェルを指定&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-Bash" data-lang="Bash">&lt;span style="color:#8f5902;font-style:italic">## ホームディレクトリ作成&lt;/span>
useradd -m &amp;lt;login&amp;gt;
&lt;span style="color:#8f5902;font-style:italic">## ログインシェルを/bin/bashに&lt;/span>
useradd -s /bin/bash &amp;lt;login&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://eng-entrance.com/linux-command-useradd">useraddコマンドについて詳しくまとめました 【Linuxコマンド集】&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="usermod">usermod&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">usermod -g admin &amp;lt;login&amp;gt; &lt;span style="color:#8f5902;font-style:italic"># 主グループを変更&lt;/span>
usermod -aG ops,app,... &amp;lt;login&amp;gt; &lt;span style="color:#8f5902;font-style:italic"># 副グループ追加&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://eng-entrance.com/linux-command-usermod" title="usermodコマンドについて詳しくまとめました 【Linuxコマンド集】">usermodコマンドについて詳しくまとめました 【Linuxコマンド集】&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="リソース管理">リソース管理&lt;/h2>
&lt;h3 id="top1">top(1)&lt;/h3>
&lt;p>&lt;a href="https://linux.die.net/man/1/top">top(1): tasks - Linux man page&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># インタラクティブモード&lt;/span>
top
&lt;span style="color:#8f5902;font-style:italic">## 描画間隔を5秒に変更&lt;/span>
top -d &lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># バッチモードで1回だけ実行&lt;/span>
top -b -n &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## CPUコアごとの負荷も表示&lt;/span>
top -b -n &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> -1
&lt;/code>&lt;/pre>&lt;/div>&lt;p>インタラクティブモードの主な操作:&lt;/p>
&lt;ul>
&lt;li>&lt;code>M&lt;/code> &amp;hellip; メモリ使用率順にソート&lt;/li>
&lt;li>&lt;code>P&lt;/code> &amp;hellip; CPU使用率順にソート&lt;/li>
&lt;li>&lt;code>1&lt;/code> &amp;hellip; CPUコアごとの負荷を表示&lt;/li>
&lt;li>&lt;code>c&lt;/code> &amp;hellip; プロセス名詳細を表示（トグル）&lt;/li>
&lt;li>&lt;code>q&lt;/code> &amp;hellip; 終了&lt;/li>
&lt;li>&lt;code>F&lt;/code> or &lt;code>O&lt;/code> &amp;hellip; ソートするフィールドを選ぶ&lt;/li>
&lt;li>&lt;code>R&lt;/code> &amp;hellip; ソートの昇順/降順を切り替え&lt;/li>
&lt;/ul>
&lt;p>Mac版の違い:&lt;/p>
&lt;ul>
&lt;li>&lt;code>-b&lt;/code> オプションやバッチモードがなさそう&lt;/li>
&lt;li>CPUコアごとに負荷を見る方法がわからん&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://bashalog.c-brains.jp/11/05/24-220315.php">[Linux] top コマンドをインタラクティブに操作する | バシャログ。&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="プロセス管理">プロセス管理&lt;/h2>
&lt;h3 id="kill1">kill(1)&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/util-linux/man1/kill.1.html">Man page of KILL&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># シグナル名のリストを表示&lt;/span>
&lt;span style="color:#204a87">kill&lt;/span> -l
&lt;span style="color:#8f5902;font-style:italic"># プロセスにSIGTERMを送信&lt;/span>
&lt;span style="color:#204a87">kill&lt;/span> &amp;lt;PID&amp;gt;...
&lt;span style="color:#8f5902;font-style:italic"># SIGHUPを送信&lt;/span>
&lt;span style="color:#204a87">kill&lt;/span> -HUP &amp;lt;PID&amp;gt;...
&lt;span style="color:#8f5902;font-style:italic"># プロセスの生存確認&lt;/span>
&lt;span style="color:#204a87">kill&lt;/span> -0 &amp;lt;PID&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>macOSだと少しオプションが違うかも&lt;/li>
&lt;li>シェルのビルトインと /bin/kill でも少しオプションが違う&lt;/li>
&lt;/ul>
&lt;p>See Also:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/os/linux/#signal">OS &amp;gt; Linux#Signal&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://ss64.com/osx/kill.html">kill Man Page - macOS - SS64.com&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://r9.hateblo.jp/entry/2018/01/15/193444">killでプロセスに「0」を送ると、プロセスの生存確認ができる - Perl日記&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="pgrep">pgrep&lt;/h3>
&lt;p>プロセス名で検索して該当するプロセス番号を表示。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">pgrep perl
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="pkill">pkill&lt;/h3>
&lt;p>プロセス名で指定してシグナルを送信する。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">pkill perl
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ps">ps&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/procps/man1/ps.1.html">Man page of PS&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">ps aux
ps aufxwww
ps auxwww -L
ps -ef
ps -efL
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Options:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>f&lt;/code>&lt;/td>
&lt;td>forest, プロセスをツリー状に表示&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-L&lt;/code>&lt;/td>
&lt;td>スレッド表示。 &lt;code>f&lt;/code> と同時に指定はできない&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="trap">trap&lt;/h3>
&lt;p>シグナルによってプロセスが中断・停止させられたときに、実行するコマンドを指定する。&lt;/p>
&lt;p>Syntax:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#204a87">trap&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;コマンド&amp;#39;&lt;/span> シグナルリスト
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#204a87">trap&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;echo trapped.&amp;#39;&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">15&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># trapをリセットする&lt;/span>
&lt;span style="color:#204a87">trap&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">15&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>SIGKILL (9) はtrapできない&lt;/li>
&lt;/ul>
&lt;p>See Also:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/os/linux/#signal">OS &amp;gt; Linux#Signal&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://shellscript.sunone.me/signal_and_trap.html">シグナルと trap コマンド | UNIX &amp;amp; Linux コマンド・シェルスクリプト リファレンス&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/ine1127/items/5523b1b674492f14532a">shellのtrapについて覚え書き - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hydrocul.github.io/wiki/commands/trap.html">trap コマンド | コマンドの使い方(Linux) | hydroculのメモ&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ユーティリティー">ユーティリティー&lt;/h2>
&lt;h3 id="watch">watch&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">watch -n &amp;lt;N&amp;gt; &lt;span style="color:#204a87">command&lt;/span> args...
&lt;/code>&lt;/pre>&lt;/div>&lt;p>N秒ごとにコマンドを実行して出力を表示。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://hydrocul.github.io/wiki/commands/watch.html" title="watch コマンド | コマンドの使い方(Linux) | hydroculのメモ">watch コマンド | コマンドの使い方(Linux) | hydroculのメモ&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="xargs">xargs&lt;/h3>
&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>※Qiitaに記事を書いており、そちらを更新するケースもある:
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/progrhyme/items/2e2d58aba3b1be804e19">xargsコマンドの備忘録 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>GNU&lt;/th>
&lt;th>macOS&lt;/th>
&lt;th>機能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-r&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>?&lt;/td>
&lt;td>入力が空白しかないときはコマンド実行しない&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://linuxjm.osdn.jp/html/GNU_findutils/man1/xargs.1.html">Man page of XARGS&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.freebsd.org/cgi/man.cgi?query=xargs&amp;amp;apropos=0&amp;amp;sektion=0&amp;amp;manpath=FreeBSD+8.0-RELEASE&amp;amp;format=html">xargs - FreeBSD Manual Pages&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ss64.com/osx/xargs.html">xargs Man Page - macOS - SS64.com&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="child-pages">Child Pages&lt;/h2></description></item><item><title>A: シェル</title><link>https://progrhy.me/tech-notes/a/cli/shell/</link><pubDate>Sun, 10 May 2020 18:04:56 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/shell/</guid><description>
&lt;h2 id="about">About&lt;/h2>
&lt;p>&lt;a href="http://e-words.jp/w/%E3%82%B7%E3%82%A7%E3%83%AB.html">シェルとは - IT用語辞典 e-Words&lt;/a>より:&lt;/p>
&lt;blockquote>
&lt;p>シェルとは、コンピュータのOSを構成するソフトウェアの一つで、利用者からの操作の受け付けや、利用者への情報の提示などを担当するもの&lt;/p>
&lt;/blockquote>
&lt;p>shやbashはシェルソフトウェア（シェルプログラムともいう）の例。&lt;/p>
&lt;h2 id="ansiエスケープシーケンス">ANSIエスケープシーケンス&lt;/h2>
&lt;p>ターミナルの出力文字に色や装飾を付けたりできる。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 太字&lt;/span>
&lt;span style="color:#204a87">echo&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;Normal \e[1mBold\e[0m&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 文字色、背景色変更&lt;/span>
&lt;span style="color:#204a87">echo&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;Default \e[43m\e[31mRed text on Yellow background\e[0m&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 256色対応&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># - \e[38;5;文字色番号m&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># - \e[48;5;背景色番号m&lt;/span>
&lt;span style="color:#204a87">echo&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;Default \e[48;5;239m\e[38;5;93mPurple text on Gray background\e[0m&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>コードの例:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Code&lt;/th>
&lt;th>効果&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0&lt;/td>
&lt;td>Reset all attributes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>Bold/Bright&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>31&lt;/td>
&lt;td>Red text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>32&lt;/td>
&lt;td>Green text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>33&lt;/td>
&lt;td>Yellow text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>34&lt;/td>
&lt;td>Blue text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>35&lt;/td>
&lt;td>Magenta text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>36&lt;/td>
&lt;td>Cyan text&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>BashやZshでは &lt;code>$'\e[...m'&lt;/code> の&lt;a href="https://progrhy.me/tech-notes/a/cli/shell/bash/#ansi-c-quoting">ANSI-C Quoting&lt;/a>を使わなければならないケースがあるかも。&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/PruneMazui/items/8a023347772620025ad6">ANSIエスケープシーケンス チートシート - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://misc.flogisoft.com/bash/tip_colors_and_formatting">bash:tip_colors_and_formatting - FLOZz&amp;rsquo; MISC&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/cli/shell/zsh/#%E8%89%B2-256%E8%89%B2%E5%AF%BE%E5%BF%9C">Zsh#色: 256色対応&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="fish-shell">fish shell&lt;/h2>
&lt;p>&lt;a href="https://fishshell.com/">https://fishshell.com/&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Finally, a command line shell for the 90s&lt;/strong>&lt;br>
fish is a smart and user-friendly command line shell for Linux, macOS, and the rest of the family.&lt;/p>
&lt;/blockquote>
&lt;p>使いやすいシェルとして人気のもの。&lt;/p>
&lt;ul>
&lt;li>C++ 実装&lt;/li>
&lt;li>POSIX &lt;strong>非互換&lt;/strong>&lt;/li>
&lt;li>プラグイン機能がある&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://nulab.com/ja/blog/backlog/fish-shell-tutorial/">fish-shell でシェルの海をスイスイ泳いでみた | 株式会社ヌーラボ(Nulab inc.)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/hennin/items/33758226a0de8c963ddf">fish shellが結構良かった話 - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/kuwa72/items/f3a90fcd215938f5817e">シェル芸人のためのfish入門 - Qiita&lt;/a> &amp;hellip; Bashとの違いがわかりやすかった&lt;/li>
&lt;/ul>
&lt;h3 id="getting-started">Getting Started&lt;/h3>
&lt;p>Install:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://fishshell.com/">https://fishshell.com/&lt;/a> の「Go fish」から&lt;/li>
&lt;/ul>
&lt;p>Documentation:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://fishshell.com/docs/current/">https://fishshell.com/docs/current/&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://fishshell.com/docs/current/tutorial.html">Tutorial — fish-shell 3.1.2 documentation&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="fisher">fisher&lt;/h3>
&lt;p>&lt;a href="https://github.com/jorgebucaran/fisher">https://github.com/jorgebucaran/fisher&lt;/a>&lt;/p>
&lt;p>人気のパッケージ管理ツール。&lt;/p>
&lt;p>See also &lt;a href="https://progrhy.me/tech-notes/a/cli/shell/pkg-man/#fish">パッケージ管理#fish&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># oh-my-fishのテーマをfisherでインストール&lt;/span>
fisher add oh-my-fish/theme-&amp;lt;テーマ名&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/nutsinshell/items/5f111184b50f7081c92f">初心者がShellを知りFish〜Fisherを導入するまで - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hi120ki.github.io/blog/posts/20190123/">fisher v3 で変わったこと | Hi120kiのメモ&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="child-pages">Child Pages&lt;/h2></description></item><item><title>A: ネットワーク関係のCLI</title><link>https://progrhy.me/tech-notes/a/cli/network/</link><pubDate>Mon, 11 May 2020 23:30:10 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/network/</guid><description>
&lt;p>ネットワーク関係のUnixコマンドやCLIツールについて、ここに記す。&lt;/p>
&lt;h2 id="dig">dig&lt;/h2>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/bind/man1/dig.1.html">https://linuxjm.osdn.jp/html/bind/man1/dig.1.html&lt;/a>&lt;/p>
&lt;p>DNSクエリを送信し、結果を得る。&lt;/p>
&lt;p>構文:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">dig &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>@ server &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> domain &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Aq query-type &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Aq query-class &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>+ Aq query-option &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>-Aq dig-option &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>%comment &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>@server&lt;/code> &amp;hellip; ネームサーバを指定&lt;/li>
&lt;/ul>
&lt;p>query-option:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>+short&lt;/code>&lt;/td>
&lt;td>結果のIPやホスト名だけを返す&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>+trace&lt;/code>&lt;/td>
&lt;td>ルートDNSから問合せ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://orebibou.com/2016/11/dig%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E8%A6%9A%E3%81%88%E3%81%A6%E3%81%8A%E3%81%8D%E3%81%9F%E3%81%84%E4%BD%BF%E3%81%84%E6%96%B911%E5%80%8B/">digコマンドで覚えておきたい使い方11個 | 俺的備忘録 〜なんかいろいろ〜&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.geocities.jp/yasasikukaitou/dig.html">digコマンド 使い方 オプション DNS BIND&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="mtr">mtr&lt;/h2>
&lt;p>デフォルトは ICMP を使う。&lt;/p>
&lt;p>オプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-T,--tcp&lt;/code>&lt;/td>
&lt;td>TCP SYN を使う&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-u&lt;/code>&lt;/td>
&lt;td>UDP を使う&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-P,--port &amp;lt;port&amp;gt;&lt;/code>&lt;/td>
&lt;td>UDP/TCP で port を指定する。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-v,--version&lt;/code>&lt;/td>
&lt;td>バージョン表示。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>※古いバージョンだとオプション効かないかも。man とか見て。&lt;/p>
&lt;h2 id="ss">ss&lt;/h2>
&lt;p>netstatとまあまあ同じ感じで使える。&lt;br>
netstatより推奨っぽいが、作りがバギーという噂もどこかで。。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># LISTENしているポート&lt;/span>
ss -l
&lt;span style="color:#8f5902;font-style:italic"># TCP, UDPとも名前解決せずに全ての接続を表示&lt;/span>
ss -antu
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/sonoshou/items/cc2b740147ba1b8da1f3">Linuxでプロセスが何のポート使っているかを調べる - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="traceroute">traceroute&lt;/h2>
&lt;p>デフォルトは UDP を使う。&lt;/p>
&lt;p>オプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-I&lt;/code>&lt;/td>
&lt;td>ICMP を使う。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-T&lt;/code>&lt;/td>
&lt;td>TCP を使う。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-p &amp;lt;port&amp;gt;&lt;/code>&lt;/td>
&lt;td>UDP/TCP で port を指定する。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item></channel></rss>