<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>progrhyme's Tech Notes – CommandLine Interface</title><link>https://progrhy.me/tech-notes/a/cli/</link><description>Recent content in CommandLine Interface on progrhyme's Tech Notes</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Mon, 27 Apr 2020 19:34:20 +0900</lastBuildDate><atom:link href="https://progrhy.me/tech-notes/a/cli/index.xml" rel="self" type="application/rss+xml"/><item><title>A: AWK</title><link>https://progrhy.me/tech-notes/a/cli/awk/</link><pubDate>Tue, 23 Jun 2020 22:49:24 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/awk/</guid><description>
&lt;h2 id="about">About&lt;/h2>
&lt;p>UNIX系OSでテキスト処理用途に用いられる。&lt;/p>
&lt;p>プラットフォームによって実装が異なる。
&lt;a href="https://en.wikipedia.org/wiki/AWK#Versions_and_implementations">https://en.wikipedia.org/wiki/AWK#Versions_and_implementations&lt;/a> を参考に。&lt;/p>
&lt;h2 id="getting-started">Getting Started&lt;/h2>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.grymoire.com/Unix/Awk.html#uh-0">Awk - A Tutorial and Introduction - by Bruce Barnett&lt;/a> &amp;hellip; NAWKとGAWKの違いについても述べられている&lt;/li>
&lt;/ul>
&lt;h2 id="documentation">Documentation&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/awk.html">awk - pubs.opengroup.org&lt;/a> &amp;hellip; POSIX&lt;/li>
&lt;li>&lt;a href="https://www.gnu.org/software/gawk/manual/gawk.html">The GNU Awk User’s Guide&lt;/a> &amp;hellip; gawk
&lt;ul>
&lt;li>邦訳: &lt;a href="http://www.kt.rim.or.jp/~kbk/gawk-30/gawk_toc.html">The GNU Awk User&amp;rsquo;s Guide - Table of Contents&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://linux.die.net/man/1/awk">https://linux.die.net/man/1/awk&lt;/a> &amp;hellip; gawk&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/richmikan@github/items/bd4b21cf1fe503ab2e5c#awk%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89">どの環境でも使えるシェルスクリプトを書くためのメモ ver4.60 - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/key-amb/items/754a12eda28e7650a47c" title="AWK によるテキストのワンライナー処理クックブック集 - Qiita">AWK によるテキストのワンライナー処理クックブック集 - Qiita&lt;/a> &amp;hellip; 以前に自分でまとめたもの&lt;/li>
&lt;li>&lt;a href="https://bi.biopapyrus.jp/os/linux/awk.html">awk | テキストのパターンマッチ処理に長けたスクリプト言語&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://shellscript.sunone.me/awk.html">AWK リファレンス | UNIX &amp;amp; Linux コマンド・シェルスクリプト リファレンス&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="awkコマンド">awkコマンド&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># AWKスクリプトが短いとき&lt;/span>
command-output-text &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{ AWK SCRIPT }&amp;#39;&lt;/span>
awk &lt;span style="color:#4e9a06">&amp;#39;{ AWK SCRIPT }&amp;#39;&lt;/span> INPUT_FILE1 INPUT_FILE2...
&lt;span style="color:#8f5902;font-style:italic"># AWKスクリプトが長いとき&lt;/span>
command-output-text &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk -f scirpt.awk
awk -f scirpt.awk INPUT_FILE1 INPUT_FILE2...
&lt;span style="color:#8f5902;font-style:italic"># おまけ: AWKスクリプトが実行可能なとき&lt;/span>
command-output-text &lt;span style="color:#000;font-weight:bold">|&lt;/span> scirpt.awk
&lt;/code>&lt;/pre>&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>機能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-F&amp;lt;c&amp;gt;&lt;/code>&lt;/td>
&lt;td>フィールドの区切り文字を &lt;code>&amp;lt;c&amp;gt;&lt;/code> に変える。例: &lt;code>-F,&lt;/code> でカンマ区切り&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-v &amp;lt;KEY&amp;gt;=&amp;lt;VALUE&amp;gt;&lt;/code>&lt;/td>
&lt;td>awkスクリプト内で使える変数を設定する。 &lt;code>-v x=y&lt;/code> を繰り返すことで複数設定可&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/tkykmw/items/1622970830262355a5a3">awkからシェル変数を参照する - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="スクリプティング">スクリプティング&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-awk" data-lang="awk">&lt;span style="color:#8f5902;font-style:italic">#!/usr/bin/awk -f&lt;/span>
&lt;span style="color:#204a87">BEGIN&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">print&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;start&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;span style="color:#4e9a06">/&amp;lt;pattern&amp;gt;/&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">print&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># &amp;lt;pattern&amp;gt;マッチ時に行を出力&lt;/span>
&lt;span style="color:#204a87">NR&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">%&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">2&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">print&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># 偶数行を出力&lt;/span>
&lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">print&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># 無条件で出力&lt;/span>
&lt;span style="color:#204a87">END&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#204a87;font-weight:bold">print&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;end&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Tips:&lt;/p>
&lt;ul>
&lt;li>&lt;code>#&lt;/code> でコメントを書ける&lt;/li>
&lt;/ul>
&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>シバンに &lt;code>#!/usr/bin/env awk -f&lt;/code> のように記すことはできない
&lt;ul>
&lt;li>See &lt;a href="https://progrhy.me/tech-notes/a/cli/#%E3%82%B7%E3%83%90%E3%83%B3">CLI#シバン&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="how-to">How-to&lt;/h2>
&lt;h3 id="ワンライナー">ワンライナー&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># マッチする行のみ表示&lt;/span>
awk &lt;span style="color:#4e9a06">&amp;#39;/abc/&amp;#39;&lt;/span> sample.tsv
&lt;span style="color:#8f5902;font-style:italic"># awk &amp;#39;/abc/ {print $0}&amp;#39; sample.tsv と同じ。以下同&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 偶数行だけを出力&lt;/span>
awk &lt;span style="color:#4e9a06">&amp;#39;NR % 2 == 0&amp;#39;&lt;/span> sample.tsv
&lt;span style="color:#8f5902;font-style:italic"># N行目以降を出力&lt;/span>
awk -v &lt;span style="color:#000">n&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;NR &amp;gt; n&amp;#39;&lt;/span> sample.tsv
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>A: curl</title><link>https://progrhy.me/tech-notes/a/cli/curl/</link><pubDate>Fri, 19 Jun 2020 20:30:40 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/curl/</guid><description>
&lt;h2 id="documentation">Documentation&lt;/h2>
&lt;ul>
&lt;li>Man: &lt;a href="https://curl.haxx.se/docs/manpage.html">https://curl.haxx.se/docs/manpage.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="options">Options&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-H, --header &amp;lt;header/@file&amp;gt;&lt;/code>&lt;/td>
&lt;td>HTTPヘッダを付加&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-L, --location&lt;/code>&lt;/td>
&lt;td>リダイレクトに対応。3XXステータスとLocationヘッダが返ってきたら、新しい宛先にリクエストを再送する&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-o &amp;lt;file&amp;gt;&lt;/code>&lt;/td>
&lt;td>ダウンロードしたデータを &lt;code>&amp;lt;file&amp;gt;&lt;/code> に保存&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-o -&lt;/code>&lt;/td>
&lt;td>上の特別な場合で、標準出力に結果を出力&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-s, --silent&lt;/code>&lt;/td>
&lt;td>進捗を表示しない&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-sS&lt;/code>&lt;/td>
&lt;td>進捗は要らないけどエラーは表示する。 &lt;code>-S&lt;/code> は &lt;code>--show-error&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-x &amp;lt;method&amp;gt;&lt;/code>&lt;/td>
&lt;td>指定したHTTPメソッドでリクエスト&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-v&lt;/code>&lt;/td>
&lt;td>HTTPリクエスト、レスポンスの詳細を表示&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/takayukioda/items/edf371b3566bea64d046">curl option 覚え書き - Qiita&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: dotfiles</title><link>https://progrhy.me/tech-notes/a/cli/dotfiles/</link><pubDate>Sun, 31 May 2020 21:52:18 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/dotfiles/</guid><description>
&lt;p>dotfilesは、主にコンピュータ上で、ユーザーの$HOMEディレクトリ下に置かれる &lt;code>.&lt;/code> で始まるファイル類を表す。&lt;/p>
&lt;h2 id="サイト">サイト&lt;/h2>
&lt;p>&lt;a href="https://dotfiles.github.io/">https://dotfiles.github.io/&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>Your unofficial guide to dotfiles on GitHub.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;a href="https://dotfiles.github.io/utilities/">https://dotfiles.github.io/utilities/&lt;/a> &amp;hellip; dotfilesの管理ツールがたくさん紹介されている。&lt;/li>
&lt;/ul>
&lt;h2 id="まとめページ">まとめページ&lt;/h2>
&lt;p>&lt;a href="https://github.com/webpro/awesome-dotfiles">https://github.com/webpro/awesome-dotfiles&lt;/a>&lt;/p>
&lt;p>dotfiles.github.io と同様だが、各種ツールなどが紹介されている。&lt;/p>
&lt;h2 id="tools">Tools&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/ubnt-intrepid/dot">ubnt-intrepid/dot: Yet another management tool for dotfiles&lt;/a> &amp;hellip; Rust製&lt;/li>
&lt;li>&lt;a href="https://github.com/rhysd/dotfiles">rhysd/dotfiles: dotfiles symbolic links management CLI&lt;/a> &amp;hellip; Golang製&lt;/li>
&lt;li>&lt;a href="https://github.com/FooSoft/homemaker">FooSoft/homemaker: Efficiently manage your dot-file configuration settings.&lt;/a> &amp;hellip; Golang製&lt;/li>
&lt;/ul>
&lt;h3 id="jaagrdots">jaagr/dots&lt;/h3>
&lt;p>&lt;a href="https://github.com/jaagr/dots">https://github.com/jaagr/dots&lt;/a>&lt;/p>
&lt;p>&lt;code>alias dots='git --git-dir=$HOME/.dots.git/ --work-tree=$HOME'&lt;/code> これだけでやってる。&lt;br>
&lt;code>git&lt;/code> コマンドしか使わない。&lt;br>
賢い。&lt;/p></description></item><item><title>A: hub</title><link>https://progrhy.me/tech-notes/a/cli/hub/</link><pubDate>Fri, 10 Jul 2020 06:38:05 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/hub/</guid><description>
&lt;h2 id="about">About&lt;/h2>
&lt;p>OSSのGitHub公式CLI. Go製。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/github/hub">https://github.com/github/hub&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>gitコマンドの薄いラッパーとしての性質と、GitHub APIクライアントの性質を持つ。&lt;/p>
&lt;p>ドキュメンテーション:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://hub.github.com/hub.1.html">hub(1) - make git easier with GitHub&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># clone your own project&lt;/span>
hub clone dotfiles
&lt;span style="color:#8f5902;font-style:italic">#=&amp;gt; git clone git://github.com/YOUR_USER/dotfiles.git&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># clone another project&lt;/span>
hub clone github/hub
&lt;span style="color:#8f5902;font-style:italic">#=&amp;gt; git clone git://github.com/github/hub.git&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># fast-forward all local branches to match the latest state on the remote&lt;/span>
&lt;span style="color:#204a87">cd&lt;/span> myproject
hub sync
&lt;span style="color:#8f5902;font-style:italic"># list latest open issues in the current repository&lt;/span>
hub issue --limit &lt;span style="color:#0000cf;font-weight:bold">10&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># open the current project&amp;#39;s issues page&lt;/span>
hub browse -- issues
&lt;span style="color:#8f5902;font-style:italic">#=&amp;gt; open https://github.com/github/hub/issues&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># open another project&amp;#39;s wiki&lt;/span>
hub browse rbenv/ruby-build wiki
&lt;span style="color:#8f5902;font-style:italic">#=&amp;gt; open https://github.com/rbenv/ruby-build/wiki&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># share log output via Gist&lt;/span>
hub gist create --copy build.log
&lt;span style="color:#8f5902;font-style:italic">#=&amp;gt; (the URL of the new private gist copied to clipboard)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="api">api&lt;/h3>
&lt;p>&lt;a href="https://hub.github.com/hub-api.1.html">https://hub.github.com/hub-api.1.html&lt;/a>&lt;/p>
&lt;p>ローレベルなAPIコール。&lt;/p>
&lt;p>Example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 最新リリースを取得&lt;/span>
hub api repos/:owner/:repo/releases/latest
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>A: jq</title><link>https://progrhy.me/tech-notes/a/cli/jq/</link><pubDate>Thu, 07 May 2020 11:44:41 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/jq/</guid><description>
&lt;p>JSONにクエリしてフィルタできるCLIツール。&lt;/p>
&lt;h2 id="documents">Documents&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://stedolan.github.io/jq/tutorial/">https://stedolan.github.io/jq/tutorial/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://stedolan.github.io/jq/manual/">https://stedolan.github.io/jq/manual/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="チートシート">チートシート&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># オブジェクトの特定キーの要素を抽出&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.some_key&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の特定要素を抽出&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[0]&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の個々のオブジェクトの特定キーを抽出&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | .some_key&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の個々のオブジェクトからいくつかの要素を選んでそれぞれ配列に格納&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | [.keyA, .keyB, .keyC.keyAinC]&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># CSV形式で出力&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | [.keyA, .keyB, .keyC] | @csv&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の個々のオブジェクトからいくつかの要素を選んで新たなオブジェクトを作り、それぞれ出力&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | {a: .keyA, b: .keyB, ca: .keyC.keyAinC}&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 配列の要素を特定のフィールドの値でフィルタ&lt;/span>
cat foo.json &lt;span style="color:#000;font-weight:bold">|&lt;/span> jq &lt;span style="color:#4e9a06">&amp;#39;.[] | select(.keyA == &amp;#34;foo&amp;#34;)&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.qoosky.io/techs/1ee07c140f">jq チートシート - Qoosky&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://medium.com/veltra-engineering/jq-supports-json-to-csv-fb5c951a9575">jq コマンドで JSON を CSV に変換する - VELTRA Engineering - Medium&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://takuya-1st.hatenablog.jp/entry/2016/12/26/180057">jq で 条件にマッチするオブジェクトを取り出す where 句的なこと - それマグで！&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>A: UNIX系コマンド</title><link>https://progrhy.me/tech-notes/a/cli/unix-cmd/</link><pubDate>Mon, 27 Apr 2020 19:37:41 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/unix-cmd/</guid><description>
&lt;p>筆者はLinuxかmacOSを使うことが多い。&lt;/p>
&lt;h2 id="about">About&lt;/h2>
&lt;p>Linux（GNU系）とmacOS（BSD系）では同じコマンドでもオプションや挙動が違うことがあるので、注意が必要。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://en.wikipedia.org/wiki/List_of_Unix_commands">List of Unix commands - Wikipedia&lt;/a> &amp;hellip; IEEE規格らしい&lt;/li>
&lt;/ul>
&lt;h3 id="関連ページ">関連ページ&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/os/mac/#gnu%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86">macOS#GNUコマンドを使う&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="リファレンス">リファレンス&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://ss64.com/">SS64 Command line reference&lt;/a> &amp;hellip; Linux, macOS etc.&lt;/li>
&lt;/ul>
&lt;h2 id="日付時刻時間">日付・時刻・時間&lt;/h2>
&lt;h3 id="date">date&lt;/h3>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/GNU_coreutils/man1/date.1.html">https://linuxjm.osdn.jp/html/GNU_coreutils/man1/date.1.html&lt;/a>&lt;/p>
&lt;p>※macOS（BSD系）だとオプションが異なる&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 書式指定&lt;/span>
date +%Y%m%d &lt;span style="color:#8f5902;font-style:italic"># YYYYMMDD&lt;/span>
date +%FT%T &lt;span style="color:#8f5902;font-style:italic"># ISO8601風&lt;/span>
date +%s &lt;span style="color:#8f5902;font-style:italic"># unixtime&lt;/span>
date +%s.%N &lt;span style="color:#8f5902;font-style:italic"># ナノ秒まで取得&lt;/span>
date +%s.%3N &lt;span style="color:#8f5902;font-style:italic"># ミリ秒まで取得&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 日時指定/相対&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## GNU系&lt;/span>
date -d tomorrow &lt;span style="color:#8f5902;font-style:italic"># 明日&lt;/span>
date -d &lt;span style="color:#4e9a06">&amp;#39;1 hour&amp;#39;&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># 1時間後&lt;/span>
date -d &lt;span style="color:#4e9a06">&amp;#39;1 days ago&amp;#39;&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># 昨日&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## macOS&lt;/span>
date -v -1d &lt;span style="color:#8f5902;font-style:italic"># 昨日&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 日時指定/絶対&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## GNU系&lt;/span>
date -d @1530675922 &lt;span style="color:#8f5902;font-style:italic"># unixtime&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## macOS&lt;/span>
date -r &lt;span style="color:#0000cf;font-weight:bold">1530675922&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># unixtime&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># ファイルのタイムスタンプを取得&lt;/span>
date -r FILE
&lt;span style="color:#8f5902;font-style:italic">## unixtime形式で取得&lt;/span>
date +%s -r FILE
&lt;span style="color:#8f5902;font-style:italic"># macOSで任意の日時を任意のフォーマットで&lt;/span>
date -f &lt;span style="color:#4e9a06">&amp;#39;入力フォーマット&amp;#39;&lt;/span> -j &lt;span style="color:#4e9a06">&amp;#39;日時&amp;#39;&lt;/span> +&lt;span style="color:#4e9a06">&amp;#39;出力フォーマット&amp;#39;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## 具体例&lt;/span>
date -f &lt;span style="color:#4e9a06">&amp;#39;%F %T&amp;#39;&lt;/span> -j &lt;span style="color:#4e9a06">&amp;#39;2021-03-01 01:30:00&amp;#39;&lt;/span> +&lt;span style="color:#4e9a06">&amp;#39;%s&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>Mac だと &lt;code>-d '〜'&lt;/code> オプションが使えない&lt;/li>
&lt;li>&lt;code>%N&lt;/code> はGNU拡張らしい&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://shellscript.sunone.me/date.html" title="日付を取得する | UNIX &amp;amp; Linux コマンド・シェルスクリプト リファレンス">日付を取得する | UNIX &amp;amp; Linux コマンド・シェルスクリプト リファレンス&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hydrocul.github.io/wiki/commands/date.html">date コマンド | コマンドの使い方(Linux) | hydroculのメモ&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/niwasawa/items/9502e97b6c4d28d24042">date コマンドで日時のミリ秒単位まで表示する - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ex1.m-yabe.com/archives/4311">dateコマンドで、ファイルのタイムスタンプを取得 | ex1-lab&lt;/a>&lt;/li>
&lt;li>macOS:
&lt;ul>
&lt;li>&lt;a href="https://www.unix.com/man-page/osx/1/date/">date(1) [osx man page]&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://qiita.com/zaburo/items/6929bea1f094c8c6a4fc">unixtimeとdatetimeを変換する（Mac/BSD編） - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/___uhu/items/3c2312359da542cda163">Macのdateコマンドで前日の日付を取得する - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://nonoichi123.hatenablog.com/entry/mac%25e3%2581%25a7date%25e3%2582%25b3%25e3%2583%259e%25e3%2583%25b3%25e3%2583%2589%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e3%2581%2593%25e3%2581%25aa%25e3%2581%2599/">Macでdateコマンドを使いこなす - ののいち の １.２..３&amp;hellip;&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="アーカイブ">アーカイブ&lt;/h2>
&lt;h3 id="zipunzip">zip/unzip&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic">## dir/ を再帰的に圧縮&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## 展開すると dir/ も出来る&lt;/span>
zip -r foo.zip dir/
&lt;span style="color:#8f5902;font-style:italic">## 中身を bar/ に展開&lt;/span>
unzip foo.zip -d bar/
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://itpro.nikkeibp.co.jp/article/COLUMN/20060228/231001/?rt=nocnt" title="Linuxコマンド集 - 【 zip 】 ファイルを圧縮する（拡張子.zip）：ITpro">Linuxコマンド集 - 【 zip 】 ファイルを圧縮する（拡張子.zip）：ITpro&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/ait/articles/1607/26/news014.html" title="Linux基本コマンドTips（35）：unzipコマンド――ZIPファイルからファイルを取り出す - ＠IT">Linux基本コマンドTips（35）：unzipコマンド――ZIPファイルからファイルを取り出す - ＠IT&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="チェックサム">チェックサム&lt;/h2>
&lt;h3 id="cksum">cksum&lt;/h3>
&lt;p>ファイルのCRCチェックサムを算出し、ファイルサイズとともに表示する。&lt;/p>
&lt;p>※CRC-32 (IEEE規格)とは異なる&lt;/p>
&lt;p>例:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">$ cksum foo.txt
&lt;span style="color:#0000cf;font-weight:bold">4032292776&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">319&lt;/span> foo.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;p>関連項目:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/security/encode/#crc">セキュリティ &amp;gt; 符号化#CRC&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://linuxjm.osdn.jp/info/GNU_coreutils/coreutils-ja_36.html">GNU Coreutils: 6.3 cksum: CRC チェックサムとバイト数を表示する&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://webkaru.net/linux/cksum-command/">Linuxコマンド【 cksum 】ファイルのCRCチェックサムとサイズを表示 - Linux入門 - Webkaru&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="md5sum">md5sum&lt;/h3>
&lt;p>MD5ハッシュ値を算出&lt;/p>
&lt;p>例:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">$ md5sum foo.txt
1d1e64beb5220bf54122293141185c1a foo.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.server-memo.net/tips/chcksum.html">【MD5 SHA1 SHA256 CRC】ハッシュ値（チェックサム）の確認方法 | server-memo.net&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="shasum">shasum&lt;/h3>
&lt;p>SHAチェックサムを算出する。&lt;br>
&lt;code>-a&lt;/code> オプションでアルゴリズムを指定できる。&lt;br>
デフォルトはSHA-1&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">$ shasum foo.txt
f1d2d2f924e986ac86fdf7b36c94bcdf32beec15 foo.txt
$ shasum foo.txt -a &lt;span style="color:#0000cf;font-weight:bold">256&lt;/span>
b5bb9d8014a0f9b1d61e21e796d78dccdf1352f23cd32812f4850b878ae4944c foo.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;p>類似コマンド:&lt;/p>
&lt;ul>
&lt;li>sha1sum&lt;/li>
&lt;li>sha256sum&lt;/li>
&lt;li>sha512sum&lt;/li>
&lt;/ul>
&lt;p>例:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">$ sha256sum foo.txt
b5bb9d8014a0f9b1d61e21e796d78dccdf1352f23cd32812f4850b878ae4944c foo.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ファイルシステム">ファイルシステム&lt;/h2>
&lt;h3 id="exportfs">exportfs&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">exportfs -a &lt;span style="color:#8f5902;font-style:italic"># /etc/exports の全てのディレクトリをエクスポート&lt;/span>
exportfs -v &lt;span style="color:#8f5902;font-style:italic"># 現在エクスポート中のディレクトリ一覧&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.ibm.com/support/knowledgecenter/ja/ssw_aix_71/com.ibm.aix.cmds2/exportfs.htm">exportfs コマンド&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="mount">mount&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic">## uid, gid指定&lt;/span>
mount -o &lt;span style="color:#000">uid&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>1000,gid&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1000&lt;/span> /dev/sdb1 /mnt
&lt;/code>&lt;/pre>&lt;/div>&lt;p>※NFSの場合、uid/gid指定は不可&lt;/p>
&lt;p>See also:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://sites.google.com/site/progrhymetechwiki/linux/fs">https://sites.google.com/site/progrhymetechwiki/linux/fs&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/ait/articles/1802/15/news035.html">【 mount 】コマンド――ファイルシステムをマウントする：Linux基本コマンドTips（183） - ＠IT&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.atmarkit.co.jp/fwin2k/productreview/sfu35-01/sfu35_01_03.html">製品レビュー：企業ユーザーのためのSFU 3.5活用ガイダンス　第1回　SFU 3.5の概要とNFS機能　2．NFSとユーザー名マッピング - ＠IT&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="umount">umount&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">umount &amp;lt;mount先&amp;gt;
umount &amp;lt;mount元&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="リソース管理">リソース管理&lt;/h2>
&lt;h3 id="top1">top(1)&lt;/h3>
&lt;p>&lt;a href="https://linux.die.net/man/1/top">top(1): tasks - Linux man page&lt;/a>&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># インタラクティブモード&lt;/span>
top
&lt;span style="color:#8f5902;font-style:italic">## 描画間隔を5秒に変更&lt;/span>
top -d &lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># バッチモードで1回だけ実行&lt;/span>
top -b -n &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">## CPUコアごとの負荷も表示&lt;/span>
top -b -n &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> -1
&lt;/code>&lt;/pre>&lt;/div>&lt;p>インタラクティブモードの主な操作:&lt;/p>
&lt;ul>
&lt;li>&lt;code>M&lt;/code> &amp;hellip; メモリ使用率順にソート&lt;/li>
&lt;li>&lt;code>P&lt;/code> &amp;hellip; CPU使用率順にソート&lt;/li>
&lt;li>&lt;code>1&lt;/code> &amp;hellip; CPUコアごとの負荷を表示&lt;/li>
&lt;li>&lt;code>c&lt;/code> &amp;hellip; プロセス名詳細を表示（トグル）&lt;/li>
&lt;li>&lt;code>q&lt;/code> &amp;hellip; 終了&lt;/li>
&lt;li>&lt;code>F&lt;/code> or &lt;code>O&lt;/code> &amp;hellip; ソートするフィールドを選ぶ&lt;/li>
&lt;li>&lt;code>R&lt;/code> &amp;hellip; ソートの昇順/降順を切り替え&lt;/li>
&lt;/ul>
&lt;p>Mac版の違い:&lt;/p>
&lt;ul>
&lt;li>&lt;code>-b&lt;/code> オプションやバッチモードがなさそう&lt;/li>
&lt;li>CPUコアごとに負荷を見る方法がわからん&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://bashalog.c-brains.jp/11/05/24-220315.php">[Linux] top コマンドをインタラクティブに操作する | バシャログ。&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ユーティリティー">ユーティリティー&lt;/h2>
&lt;h3 id="history">history&lt;/h3>
&lt;p>Bash, Zshで引数の扱いが異なるところがある。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># Zsh&lt;/span>
&lt;span style="color:#204a87">history&lt;/span> -N
&lt;span style="color:#8f5902;font-style:italic"># Bash&lt;/span>
&lt;span style="color:#204a87">history&lt;/span> N
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/JUNO-LEARN/items/5322cccb1aff5661604d">【Mac】historyコマンドの表示件数でハマってしまった件 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="timeout">timeout&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">timeout &amp;lt;N&amp;gt; &lt;span style="color:#204a87">command&lt;/span> args...
&lt;/code>&lt;/pre>&lt;/div>&lt;p>指定した秒数の経過後、コマンドを終了する。&lt;/p>
&lt;p>オプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-s &amp;lt;シグナル&amp;gt;&lt;/code> &lt;br /> &lt;code>--signal=&amp;lt;シグナル&amp;gt;&lt;/code>&lt;/td>
&lt;td>タイムアウト時に送信するシグナル。デフォルトは &lt;code>TERM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-k &amp;lt;N&amp;gt;&lt;/code> &lt;br /> &lt;code>--kill-after=&amp;lt;N&amp;gt;&lt;/code>&lt;/td>
&lt;td>最初のタイムアウトでシグナル送信後、指定時間を過ぎてもコマンドが動いている場合、 &lt;code>KILL&lt;/code> シグナルを送る&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.atmarkit.co.jp/ait/articles/1906/27/news008.html">【 timeout 】コマンド――制限時間を付けて指定のコマンドを実行する：Linux基本コマンドTips（316） - ＠IT&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="watch">watch&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">watch -n &amp;lt;N&amp;gt; &lt;span style="color:#204a87">command&lt;/span> args...
&lt;/code>&lt;/pre>&lt;/div>&lt;p>N秒ごとにコマンドを実行して出力を表示。&lt;/p>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://hydrocul.github.io/wiki/commands/watch.html" title="watch コマンド | コマンドの使い方(Linux) | hydroculのメモ">watch コマンド | コマンドの使い方(Linux) | hydroculのメモ&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="xargs">xargs&lt;/h3>
&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>※Qiitaに記事を書いており、そちらを更新するケースもある:
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/progrhyme/items/2e2d58aba3b1be804e19">xargsコマンドの備忘録 - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>オプション&lt;/th>
&lt;th>GNU&lt;/th>
&lt;th>macOS&lt;/th>
&lt;th>機能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-r&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>?&lt;/td>
&lt;td>入力が空白しかないときはコマンド実行しない&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://linuxjm.osdn.jp/html/GNU_findutils/man1/xargs.1.html">Man page of XARGS&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.freebsd.org/cgi/man.cgi?query=xargs&amp;amp;apropos=0&amp;amp;sektion=0&amp;amp;manpath=FreeBSD+8.0-RELEASE&amp;amp;format=html">xargs - FreeBSD Manual Pages&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ss64.com/osx/xargs.html">xargs Man Page - macOS - SS64.com&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="child-pages">Child Pages&lt;/h2></description></item><item><title>A: シェル</title><link>https://progrhy.me/tech-notes/a/cli/shell/</link><pubDate>Sun, 10 May 2020 18:04:56 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/shell/</guid><description>
&lt;p>スクリプティングについては&lt;a href="https://progrhy.me/tech-notes/a/cli/shell/script/">スクリプト&lt;/a>を見よ。&lt;/p>
&lt;h2 id="about">About&lt;/h2>
&lt;p>&lt;a href="http://e-words.jp/w/%E3%82%B7%E3%82%A7%E3%83%AB.html">シェルとは - IT用語辞典 e-Words&lt;/a>より:&lt;/p>
&lt;blockquote>
&lt;p>シェルとは、コンピュータのOSを構成するソフトウェアの一つで、利用者からの操作の受け付けや、利用者への情報の提示などを担当するもの&lt;/p>
&lt;/blockquote>
&lt;p>shやbashはシェルソフトウェア（シェルプログラムともいう）の例。&lt;/p>
&lt;h2 id="awesome-shell">awesome-shell&lt;/h2>
&lt;p>&lt;a href="https://github.com/alebcay/awesome-shell">https://github.com/alebcay/awesome-shell&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>A curated list of awesome command-line frameworks, toolkits, guides and gizmos.&lt;/p>
&lt;/blockquote>
&lt;h2 id="ansiエスケープシーケンス">ANSIエスケープシーケンス&lt;/h2>
&lt;p>ターミナルの出力文字に色や装飾を付けたりできる。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># 太字&lt;/span>
&lt;span style="color:#204a87">echo&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;Normal \e[1mBold\e[0m&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 文字色、背景色変更&lt;/span>
&lt;span style="color:#204a87">echo&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;Default \e[43m\e[31mRed text on Yellow background\e[0m&amp;#34;&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># 256色対応&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># - \e[38;5;文字色番号m&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># - \e[48;5;背景色番号m&lt;/span>
&lt;span style="color:#204a87">echo&lt;/span> -e &lt;span style="color:#4e9a06">&amp;#34;Default \e[48;5;239m\e[38;5;93mPurple text on Gray background\e[0m&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>コードの例:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Code&lt;/th>
&lt;th>効果&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0&lt;/td>
&lt;td>Reset all attributes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>Bold/Bright&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>31&lt;/td>
&lt;td>Red text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>32&lt;/td>
&lt;td>Green text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>33&lt;/td>
&lt;td>Yellow text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>34&lt;/td>
&lt;td>Blue text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>35&lt;/td>
&lt;td>Magenta text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>36&lt;/td>
&lt;td>Cyan text&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>NOTE:&lt;/p>
&lt;ul>
&lt;li>BashやZshでは &lt;code>$'\e[...m'&lt;/code> の&lt;a href="https://progrhy.me/tech-notes/a/cli/shell/bash/#ansi-c-quoting">ANSI-C Quoting&lt;/a>を使わなければならないケースがあるかも。&lt;/li>
&lt;/ul>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/PruneMazui/items/8a023347772620025ad6">ANSIエスケープシーケンス チートシート - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://misc.flogisoft.com/bash/tip_colors_and_formatting">bash:tip_colors_and_formatting - FLOZz' MISC&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://progrhy.me/tech-notes/a/cli/shell/zsh/#%E8%89%B2-256%E8%89%B2%E5%AF%BE%E5%BF%9C">Zsh#色: 256色対応&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="child-pages">Child Pages&lt;/h2></description></item><item><title>A: ネットワーク関係のCLI</title><link>https://progrhy.me/tech-notes/a/cli/network/</link><pubDate>Mon, 11 May 2020 23:30:10 +0900</pubDate><guid>https://progrhy.me/tech-notes/a/cli/network/</guid><description>
&lt;p>ネットワーク関係のUnixコマンドやCLIツールについて、ここに記す。&lt;/p>
&lt;h2 id="dig">dig&lt;/h2>
&lt;p>&lt;a href="https://linuxjm.osdn.jp/html/bind/man1/dig.1.html">https://linuxjm.osdn.jp/html/bind/man1/dig.1.html&lt;/a>&lt;/p>
&lt;p>DNSクエリを送信し、結果を得る。&lt;/p>
&lt;p>構文:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">dig &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>@ server &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> domain &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Aq query-type &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Aq query-class &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>+ Aq query-option &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>-Aq dig-option &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>%comment &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>@server&lt;/code> &amp;hellip; ネームサーバを指定&lt;/li>
&lt;/ul>
&lt;p>query-option:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>+short&lt;/code>&lt;/td>
&lt;td>結果のIPやホスト名だけを返す&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>+trace&lt;/code>&lt;/td>
&lt;td>ルートDNSから問合せ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://orebibou.com/2016/11/dig%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E8%A6%9A%E3%81%88%E3%81%A6%E3%81%8A%E3%81%8D%E3%81%9F%E3%81%84%E4%BD%BF%E3%81%84%E6%96%B911%E5%80%8B/">digコマンドで覚えておきたい使い方11個 | 俺的備忘録 〜なんかいろいろ〜&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.geocities.jp/yasasikukaitou/dig.html">digコマンド 使い方 オプション DNS BIND&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="lsof">lsof&lt;/h2>
&lt;p>ファイルディスクリプタを表示するコマンドだが、ネットワークソケットの表示にも使える。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># ネットワークコネクションを表示&lt;/span>
lsof -i -P
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/sinsengumi/items/b9e0c1fde8075f9153e1">lsof, netstat コマンド - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="mtr">mtr&lt;/h2>
&lt;p>デフォルトは ICMP を使う。&lt;/p>
&lt;p>オプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-T,--tcp&lt;/code>&lt;/td>
&lt;td>TCP SYN を使う&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-u&lt;/code>&lt;/td>
&lt;td>UDP を使う&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-P,--port &amp;lt;port&amp;gt;&lt;/code>&lt;/td>
&lt;td>UDP/TCP で port を指定する。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-v,--version&lt;/code>&lt;/td>
&lt;td>バージョン表示。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>※古いバージョンだとオプション効かないかも。man とか見て。&lt;/p>
&lt;h2 id="ss">ss&lt;/h2>
&lt;p>netstatとまあまあ同じ感じで使える。&lt;br>
netstatより推奨っぽいが、作りがバギーという噂もどこかで。。&lt;/p>
&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># LISTENしているポート&lt;/span>
ss -l
&lt;span style="color:#8f5902;font-style:italic"># TCP, UDPとも名前解決せずに全ての接続を表示&lt;/span>
ss -antu
&lt;/code>&lt;/pre>&lt;/div>&lt;p>参考:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://qiita.com/sonoshou/items/cc2b740147ba1b8da1f3">Linuxでプロセスが何のポート使っているかを調べる - Qiita&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="traceroute">traceroute&lt;/h2>
&lt;p>デフォルトは UDP を使う。&lt;/p>
&lt;p>オプション:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Option&lt;/th>
&lt;th>意味&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-I&lt;/code>&lt;/td>
&lt;td>ICMP を使う。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-T&lt;/code>&lt;/td>
&lt;td>TCP を使う。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-p &amp;lt;port&amp;gt;&lt;/code>&lt;/td>
&lt;td>UDP/TCP で port を指定する。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item></channel></rss>