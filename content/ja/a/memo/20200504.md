---
title: "2020-05-04"
linkTitle: "2020-05-04"
date: 2020-05-04T15:19:13+09:00
---

## 5/4
### git pull --pruneしてマージ済みローカルブランチを掃除するgitのサブコマンドを作った

何番煎じだよって感じだけど、いい加減面倒になったので作った。

コード: [git-wraps/bin/git-branch-sweep](https://github.com/progrhyme/git-wraps/blob/e06f3238a5c6e0d1605e3de96b1a56d74a046953/bin/git-branch-sweep)

gitのaliasにも設定したかったので、オプションにも対応させた。

```sh
% git bsp -h
NAME
    git-branch-sweep - git subcommand to clean up merged local branches

SYNOPSYS
        # Basic execution
        git branch-sweep

        # Interactive mode
        git branch-sweep -i

        # pull before sweep
        git branch-sweep -p|--pull

        # Specify both options
        git branch-sweep -i -p

    Help:

        git branch-sweep -h|--help
```

このスクリプトをPATHが通っている場所に置く。

.gitconfigのaliasはこんな感じ:

```
[alias]
    plr = pull --prune
    bsp = branch-sweep --pull
```

`git branch-sweep` か `git plr` か `git bsp` か、利用頻度によってaliasを調整するかもしれない。

参考:

- [gitでbranchをお掃除する際のチートシート - Qiita](https://qiita.com/kenshiroh/items/44dcf4b094e841bb42a2)
- [リモートで消されたブランチが手元で残ってしまう件を解消する - Qiita](https://qiita.com/yuichielectric/items/84cd61915a1236f19221)

### Ubuntuでkubectxをlinuxbrewで入れた

https://github.com/ahmetb/kubectx

READMEには明記されてはいないのだけど、 `brew install kubectx` でふつうにインストールできて使えた。  
まあ、シェルスクリプトだしな。
