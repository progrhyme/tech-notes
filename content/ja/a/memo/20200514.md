---
title: "2020-05-14"
linkTitle: "2020-05-14"
date: 2020-05-14T00:51:16+09:00
---

## 5/14
### kubectlのctx/nsをプロンプトに表示できるようにした

とりあえず個人用のmacOSだけ。下のコミットで実現:

- https://github.com/progrhyme/myenv/commit/a9363d648db469a493de55b60178ae5a2d25ce44

どうせみんなやってるだろうと思ってググったら、案の定いっぱい出てきた。  
スパブラさんがzshのプラグイン的なものを作っていて、使いやすそうだったのでこれを使うことにした。

- https://github.com/superbrothers/zsh-kubectl-prompt

`vcs_info` と合わせるとごちゃごちゃしそうだったので、 `precmd()` の中で `RPROMPT` を料理するようにリファクタした。

（追記）
Ubuntuでも設定した。

GKEのcontextとか長すぎてつらいなって思ったら、 `kubectl config rename-context` ってコマンドがあることを知った。
